{"version":3,"sources":["meteor://ðŸ’»app/smart_contracts/solc-js/test/abi.js","meteor://ðŸ’»app/smart_contracts/solc-js/test/cli.js","meteor://ðŸ’»app/smart_contracts/solc-js/test/determinism.js","meteor://ðŸ’»app/smart_contracts/solc-js/test/index.js","meteor://ðŸ’»app/smart_contracts/solc-js/test/package.js","meteor://ðŸ’»app/smart_contracts/solc-js/abi.js","meteor://ðŸ’»app/smart_contracts/solc-js/downloadCurrentVersion.js","meteor://ðŸ’»app/smart_contracts/solc-js/index.js","meteor://ðŸ’»app/smart_contracts/solc-js/translate.js","meteor://ðŸ’»app/smart_contracts/solc-js/verifyVersion.js","meteor://ðŸ’»app/smart_contracts/solc-js/wrapper.js","meteor://ðŸ’»app/server/main.js"],"names":["tape","require","abi","t","test","st","deepEqual","update","end","inputs","payable","type","input","spawn","pkg","spt","stdout","match","RegExp","version","stderr","empty","succeeds","fs","solc","prevBytecode","files","i","file","readFileSync","output","compile","sources","bytecode","contracts","ok","length","equal","f","findImports","path","contents","error","supportsStandard","skip","bytecodeExists","fileName","contractName","e","JSON","parse","compileStandard","stringify","compileStandardWrapper","plan","loadRemoteVersion","err","solcSnapshot","notOk","linkBytecode","indexOf","throws","semver","compilerVersion","hasConstructor","hasFallback","item","lt","push","module","exports","https","MemoryStream","getVersionList","cb","console","log","mem","readable","get","response","statusCode","process","exit","pipe","on","toString","downloadBinary","createWriteStream","close","list","wanted","releases","wrapper","translateErrors","ret","errors","extractType","exec","trim","component","severity","message","formattedMessage","translateGasEstimates","gasEstimates","gasEstimatesTranslated","func","translateJsonCompilerOutput","contract","tmp","undefined","contractInput","contractOutput","sourceMap","sourceId","source","id","legacyAST","packageVersion","solcVersion","eq","translate","requireFromString","setupMethods","soljson","compileJSON","cwrap","compileJSONMulti","compileJSONCallback","copyString","str","ptr","buffer","_malloc","writeStringToMemory","setValue","wrapCallback","callback","result","Pointer_stringify","runWithReadCallback","readCallback","args","Runtime","addFunction","apply","removeFunction","compileInternal","optimize","compileStandardInternal","optimise","formatFatalError","isOptimizerEnabled","translateSources","translateOutput","libraries","libraryName","internalName","slice","libLabel","Array","join","hexAddress","Error","replace","supportsMulti","supportsImportCallback","useVersion","versionString","url","statusMessage","Meteor","watch","v","startup"],"mappings":"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","file":"/app.js","sourcesContent":["const tape = require('tape');\nconst abi = require('../abi.js');\n\ntape('ABI translator', function (t) {\n  t.test('Empty ABI', function (st) {\n    st.deepEqual(abi.update('0.4.0', []), []);\n    st.end();\n  });\n  t.test('0.1.1 (no constructor)', function (st) {\n    st.deepEqual(abi.update('0.1.1', []), [ { inputs: [], payable: true, type: 'constructor' }, { payable: true, type: 'fallback' } ]);\n    st.end();\n  });\n  t.test('0.4.0 (has fallback)', function (st) {\n    var input = [ { inputs: [], type: 'constructor' } ];\n    st.deepEqual(abi.update('0.4.0', input), [ { inputs: [], payable: true, type: 'constructor' } ]);\n    st.end();\n  });\n  t.test('0.4.1 (constructor not payable)', function (st) {\n    var input = [ { inputs: [], payable: false, type: 'constructor' } ];\n    st.deepEqual(abi.update('0.4.1', input), [ { inputs: [], payable: true, type: 'constructor' } ]);\n    st.end();\n  });\n  t.test('0.4.5 (constructor payable)', function (st) {\n    var input = [ { inputs: [], payable: false, type: 'constructor' } ];\n    st.deepEqual(abi.update('0.4.5', input), [ { inputs: [], payable: false, type: 'constructor' } ]);\n    st.end();\n  });\n});\n","const tape = require('tape');\nconst spawn = require('tape-spawn');\nconst pkg = require('../package.json');\n\ntape('CLI', function (t) {\n  t.test('--version', function (st) {\n    var spt = spawn(st, './solcjs --version');\n    spt.stdout.match(RegExp(pkg.version + '(-[^a-zA-A0-9.+]+)?(\\\\+[^a-zA-Z0-9.-]+)?'));\n    spt.end();\n  });\n\n  t.test('no parameters', function (st) {\n    var spt = spawn(st, './solcjs');\n    spt.stderr.match(/^Must provide a file/);\n    spt.end();\n  });\n\n  t.test('no mode specified', function (st) {\n    var spt = spawn(st, './solcjs test/DAO/Token.sol');\n    spt.stdout.match(/^Invalid option selected/);\n    spt.end();\n  });\n\n  t.test('--bin', function (st) {\n    var spt = spawn(st, './solcjs --bin test/DAO/Token.sol');\n    spt.stderr.empty();\n    spt.succeeds();\n    spt.end();\n  });\n\n  t.test('invalid file specified', function (st) {\n    var spt = spawn(st, './solcjs --bin test/fileNotFound.sol');\n    spt.stdout.match(/^Error reading /);\n    spt.end();\n  });\n\n  t.test('--abi', function (st) {\n    var spt = spawn(st, './solcjs --abi test/DAO/Token.sol');\n    spt.stderr.empty();\n    spt.succeeds();\n    spt.end();\n  });\n\n  t.test('--bin --abi', function (st) {\n    var spt = spawn(st, './solcjs --bin --abi test/DAO/Token.sol');\n    spt.stderr.empty();\n    spt.succeeds();\n    spt.end();\n  });\n});\n","const tape = require('tape');\nconst fs = require('fs');\nconst solc = require('../index.js');\n\ntape('Deterministic Compilation', function (t) {\n  t.test('DAO', function (st) {\n    var input = {};\n    var prevBytecode = null;\n    var files = ['DAO.sol', 'Token.sol', 'TokenCreation.sol', 'ManagedAccount.sol'];\n    var i;\n    for (i in files) {\n      var file = files[i];\n      input[file] = fs.readFileSync('test/DAO/' + file, 'utf8');\n    }\n    for (i = 0; i < 10; i++) {\n      var output = solc.compile({sources: input}, 1);\n      var bytecode = output.contracts['DAO.sol:DAO'].bytecode;\n      st.ok(bytecode.length > 0);\n      if (prevBytecode !== null) {\n        st.equal(prevBytecode, bytecode);\n      }\n      prevBytecode = bytecode;\n      // reset compiler state\n      solc.compile({sources: {f: 'contract c {}'}}, 1);\n    }\n    st.end();\n  });\n});\n","require('./package.js');\nrequire('./cli.js');\nrequire('./determinism.js');\nrequire('./abi.js');\n","const tape = require('tape');\nconst solc = require('../index.js');\n\ntape('Compilation', function (t) {\n  t.test('single files can be compiled', function (st) {\n    var output = solc.compile('contract x { function g() {} }');\n    st.ok(':x' in output.contracts);\n    st.ok(output.contracts[':x'].bytecode.length > 0);\n    st.end();\n  });\n  t.test('multiple files can be compiled', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    st.ok('cont.sol:x' in output.contracts);\n    st.ok('lib.sol:L' in output.contracts);\n    st.ok(output.contracts['cont.sol:x'].bytecode.length > 0);\n    st.ok(output.contracts['lib.sol:L'].bytecode.length > 0);\n    st.end();\n  });\n  t.test('lazy-loading callback works', function (st) {\n    var input = {\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    function findImports (path) {\n      if (path === 'lib.sol') {\n        return { contents: 'library L { function f() returns (uint) { return 7; } }' };\n      } else {\n        return { error: 'File not found' };\n      }\n    }\n    var output = solc.compile({sources: input}, 0, findImports);\n    st.ok('cont.sol:x' in output.contracts);\n    st.ok('lib.sol:L' in output.contracts);\n    st.ok(output.contracts['cont.sol:x'].bytecode.length > 0);\n    st.ok(output.contracts['lib.sol:L'].bytecode.length > 0);\n    st.end();\n  });\n  t.test('compiling standard JSON', function (st) {\n    if (!solc.supportsStandard) {\n      st.skip('Not supported by solc');\n      st.end();\n      return;\n    }\n\n    var input = {\n      'language': 'Solidity',\n      'sources': {\n        'lib.sol': {\n          'content': 'library L { function f() returns (uint) { return 7; } }'\n        },\n        'cont.sol': {\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n        }\n      }\n    };\n\n    function bytecodeExists (output, fileName, contractName) {\n      try {\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var output = JSON.parse(solc.compileStandard(JSON.stringify(input)));\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));\n    st.end();\n  });\n  t.test('compiling standard JSON (with callback)', function (st) {\n    if (!solc.supportsStandard) {\n      st.skip('Not supported by solc');\n      st.end();\n      return;\n    }\n\n    var input = {\n      'language': 'Solidity',\n      'sources': {\n        'cont.sol': {\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n        }\n      }\n    };\n\n    function findImports (path) {\n      if (path === 'lib.sol') {\n        return { contents: 'library L { function f() returns (uint) { return 7; } }' };\n      } else {\n        return { error: 'File not found' };\n      }\n    }\n\n    function bytecodeExists (output, fileName, contractName) {\n      try {\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var output = JSON.parse(solc.compileStandard(JSON.stringify(input), findImports));\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));\n    st.end();\n  });\n  t.test('compiling standard JSON (using wrapper)', function (st) {\n    var input = {\n      'language': 'Solidity',\n      'sources': {\n        'lib.sol': {\n          'content': 'library L { function f() returns (uint) { return 7; } }'\n        },\n        'cont.sol': {\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n        }\n      }\n    };\n\n    function bytecodeExists (output, fileName, contractName) {\n      try {\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var output = JSON.parse(solc.compileStandardWrapper(JSON.stringify(input)));\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));\n    st.end();\n  });\n});\ntape('Loading Legacy Versions', function (t) {\n  t.test('loading remote version - development snapshot', function (st) {\n    // getting the development snapshot\n    st.plan(3);\n    solc.loadRemoteVersion('latest', function (err, solcSnapshot) {\n      st.notOk(err);\n      var output = solcSnapshot.compile('contract x { function g() {} }');\n      st.ok(':x' in output.contracts);\n      st.ok(output.contracts[':x'].bytecode.length > 0);\n    });\n  });\n});\n\ntape('Linking', function (t) {\n  t.test('link properly', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { 'lib.sol:L': '0x123456' });\n    st.ok(bytecode.indexOf('_') < 0);\n    st.end();\n  });\n\n  t.test('linker to fail with missing library', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { });\n    st.ok(bytecode.indexOf('_') >= 0);\n    st.end();\n  });\n\n  t.test('linker to fail with invalid address', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    st.throws(function () {\n      solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { 'lib.sol:L': '' });\n    });\n    st.end();\n  });\n\n  t.test('linker properly with truncated library name', function (st) {\n    var input = {\n      'lib.sol': 'library L1234567890123456789012345678901234567890 { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L1234567890123456789012345678901234567890.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { 'lib.sol:L1234567890123456789012345678901234567890': '0x123456' });\n    st.ok(bytecode.indexOf('_') < 0);\n    st.end();\n  });\n});\n","var semver = require('semver');\n\nfunction update (compilerVersion, abi) {\n  var hasConstructor = false;\n  var hasFallback = false;\n\n  for (var i = 0; i < abi.length; i++) {\n    var item = abi[i];\n\n    if (item.type === 'constructor') {\n      hasConstructor = true;\n\n      // <0.4.5 assumed every constructor to be payable\n      if (semver.lt(compilerVersion, '0.4.5')) {\n        item.payable = true;\n      }\n    } else if (item.type === 'fallback') {\n      hasFallback = true;\n    }\n\n    // add 'payable' to everything\n    if (semver.lt(compilerVersion, '0.4.0')) {\n      item.payable = true;\n    }\n  }\n\n  // 0.1.2 from Aug 2015 had it. The code has it since May 2015 (e7931ade)\n  if (!hasConstructor && semver.lt(compilerVersion, '0.1.2')) {\n    abi.push({\n      type: 'constructor',\n      payable: true,\n      inputs: []\n    });\n  }\n\n  if (!hasFallback && semver.lt(compilerVersion, '0.4.0')) {\n    abi.push({\n      type: 'fallback',\n      payable: true\n    });\n  }\n\n  return abi;\n}\n\nmodule.exports = {\n  update: update\n};\n","#!/usr/bin/env node\n\n// This is used to download the correct binary version\n// as part of the prepublish step.\n\nvar pkg = require('./package.json');\nvar fs = require('fs');\nvar https = require('https');\nvar MemoryStream = require('memorystream');\n\nfunction getVersionList (cb) {\n  console.log('Retrieving available version list...');\n\n  var mem = new MemoryStream(null, { readable: false });\n  https.get('https://ethereum.github.io/solc-bin/bin/list.json', function (response) {\n    if (response.statusCode !== 200) {\n      console.log('Error downloading file: ' + response.statusCode);\n      process.exit(1);\n    }\n    response.pipe(mem);\n    response.on('end', function () {\n      cb(mem.toString());\n    });\n  });\n}\n\nfunction downloadBinary (version) {\n  console.log('Downloading version', version);\n\n  var file = fs.createWriteStream('soljson.js');\n  https.get('https://ethereum.github.io/solc-bin/bin/' + version, function (response) {\n    if (response.statusCode !== 200) {\n      console.log('Error downloading file: ' + response.statusCode);\n      process.exit(1);\n    }\n    response.pipe(file);\n    file.on('finish', function () {\n      file.close(function () {\n        console.log('Done.');\n      });\n    });\n  });\n}\n\nconsole.log('Downloading correct solidity binary...');\n\ngetVersionList(function (list) {\n  list = JSON.parse(list);\n  var wanted = pkg.version.match(/^(\\d+\\.\\d+\\.\\d+)$/)[1];\n  downloadBinary(list.releases[wanted]);\n});\n","var wrapper = require('./wrapper.js');\n\nmodule.exports = wrapper(require('./soljson.js'));\n","function translateErrors (ret, errors) {\n  for (var error in errors) {\n    var type = 'error';\n    var extractType = /^(.*):(\\d+):(\\d+):(.*):/;\n    extractType = extractType.exec(errors[error]);\n    if (extractType) {\n      type = extractType[4].trim();\n    } else if (errors[error].indexOf(': Warning:')) {\n      type = 'Warning';\n    } else if (errors[error].indexOf(': Error:')) {\n      type = 'Error';\n    }\n    ret.push({\n      type: type,\n      component: 'general',\n      severity: (type === 'Warning') ? 'warning' : 'error',\n      message: errors[error],\n      formattedMessage: errors[error]\n    });\n  }\n}\n\nfunction translateGasEstimates (gasEstimates) {\n  if (gasEstimates === null) {\n    return 'infinite';\n  }\n\n  if (typeof gasEstimates === 'number') {\n    return gasEstimates.toString();\n  }\n\n  var gasEstimatesTranslated = {};\n  for (var func in gasEstimates) {\n    gasEstimatesTranslated[func] = translateGasEstimates(gasEstimates[func]);\n  }\n  return gasEstimatesTranslated;\n}\n\nfunction translateJsonCompilerOutput (output) {\n  var ret = {};\n\n  ret['errors'] = [];\n  translateErrors(ret['errors'], output['errors']);\n\n  ret['contracts'] = {};\n  for (var contract in output['contracts']) {\n    // Split name first, can be `contract`, `:contract` or `filename:contract`\n    var tmp = contract.match(/^(([^:]*):)?([^:]+)$/);\n    if (tmp.length !== 4) {\n      // Force abort\n      return null;\n    }\n    var fileName = tmp[2];\n    if (fileName === undefined) {\n      // this is the case of `contract`\n      fileName = '';\n    }\n    var contractName = tmp[3];\n\n    var contractInput = output['contracts'][contract];\n\n    var gasEstimates = contractInput['gasEstimates'];\n\n    var contractOutput = {\n      'abi': JSON.parse(contractInput['interface']),\n      'metadata': contractInput['metadata'],\n      'evm': {\n        'legacyAssembly': contractInput['assembly'],\n        'bytecode': {\n          'object': contractInput['bytecode'],\n          'opcodes': contractInput['opcodes'],\n          'sourceMap': contractInput['srcmap']\n        },\n        'deployedBytecode': {\n          'object': contractInput['runtimeBytecode'],\n          'sourceMap': contractInput['srcmapRuntime']\n        },\n        'methodIdentifiers': contractInput['functionHashes'],\n        'gasEstimates': {\n          'creation': {\n            'codeDepositCost': translateGasEstimates(gasEstimates['creation'][1]),\n            'executionCost': translateGasEstimates(gasEstimates['creation'][0])\n          },\n          'internal': translateGasEstimates(gasEstimates['internal']),\n          'external': translateGasEstimates(gasEstimates['external'])\n        }\n      }\n    };\n\n    if (!ret['contracts'][fileName]) {\n      ret['contracts'][fileName] = {};\n    }\n\n    ret['contracts'][fileName][contractName] = contractOutput;\n  }\n\n  var sourceMap = {};\n  for (var sourceId in output['sourceList']) {\n    sourceMap[output['sourceList'][sourceId]] = sourceId;\n  }\n\n  ret['sources'] = {};\n  for (var source in output['sources']) {\n    ret['sources'][source] = {\n      id: sourceMap[source],\n      legacyAST: output['sources'][source]\n    };\n  }\n\n  return ret;\n}\n\nmodule.exports = {\n  translateJsonCompilerOutput: translateJsonCompilerOutput\n};\n","#!/usr/bin/env node\n\nvar semver = require('semver');\n\nvar packageVersion = require('./package.json').version;\nvar solcVersion = require('./index.js').version();\n\nconsole.log('solcVersion: ' + solcVersion);\nconsole.log('packageVersion: ' + packageVersion);\n\nif (semver.eq(packageVersion, solcVersion)) {\n  console.log('Version matching');\n  process.exit(0);\n} else {\n  console.log('Version mismatch');\n  process.exit(1);\n}\n","var translate = require('./translate.js');\nvar requireFromString = require('require-from-string');\nvar https = require('https');\nvar MemoryStream = require('memorystream');\n\nfunction setupMethods (soljson) {\n  var compileJSON = soljson.cwrap('compileJSON', 'string', ['string', 'number']);\n  var compileJSONMulti = null;\n  if ('_compileJSONMulti' in soljson) {\n    compileJSONMulti = soljson.cwrap('compileJSONMulti', 'string', ['string', 'number']);\n  }\n  var compileJSONCallback = null;\n  var compileStandard = null;\n  if (('_compileJSONCallback' in soljson) || ('_compileStandard' in soljson)) {\n    var copyString = function (str, ptr) {\n      var buffer = soljson._malloc(str.length + 1);\n      soljson.writeStringToMemory(str, buffer);\n      soljson.setValue(ptr, buffer, '*');\n    };\n    var wrapCallback = function (callback) {\n      return function (path, contents, error) {\n        var result = callback(soljson.Pointer_stringify(path));\n        if (typeof result.contents === 'string') {\n          copyString(result.contents, contents);\n        }\n        if (typeof result.error === 'string') {\n          copyString(result.error, error);\n        }\n      };\n    };\n\n    // This calls compile() with args || cb\n    var runWithReadCallback = function (readCallback, compile, args) {\n      if (readCallback === undefined) {\n        readCallback = function (path) {\n          return {\n            error: 'File import callback not supported'\n          };\n        };\n      }\n      var cb = soljson.Runtime.addFunction(wrapCallback(readCallback));\n      var output;\n      try {\n        args.push(cb);\n        output = compile.apply(undefined, args);\n      } catch (e) {\n        soljson.Runtime.removeFunction(cb);\n        throw e;\n      }\n      soljson.Runtime.removeFunction(cb);\n      return output;\n    };\n\n    var compileInternal = soljson.cwrap('compileJSONCallback', 'string', ['string', 'number', 'number']);\n    compileJSONCallback = function (input, optimize, readCallback) {\n      return runWithReadCallback(readCallback, compileInternal, [ input, optimize ]);\n    };\n    if ('_compileStandard' in soljson) {\n      var compileStandardInternal = soljson.cwrap('compileStandard', 'string', ['string', 'number']);\n      compileStandard = function (input, readCallback) {\n        return runWithReadCallback(readCallback, compileStandardInternal, [ input ]);\n      };\n    }\n  }\n\n  var compile = function (input, optimise, readCallback) {\n    var result = '';\n    if (readCallback !== undefined && compileJSONCallback !== null) {\n      result = compileJSONCallback(JSON.stringify(input), optimise, readCallback);\n    } else if (typeof input !== 'string' && compileJSONMulti !== null) {\n      result = compileJSONMulti(JSON.stringify(input), optimise);\n    } else {\n      result = compileJSON(input, optimise);\n    }\n    return JSON.parse(result);\n  };\n\n  // Expects a Standard JSON I/O but supports old compilers\n  var compileStandardWrapper = function (input, readCallback) {\n    if (compileStandard !== null) {\n      return compileStandard(input, readCallback);\n    }\n\n    function formatFatalError (message) {\n      return JSON.stringify({\n        errors: [\n          {\n            'type': 'SOLCError',\n            'component': 'solcjs',\n            'severity': 'error',\n            'message': message,\n            'formattedMessage': 'Error' + message\n          }\n        ]\n      });\n    }\n\n    input = JSON.parse(input);\n\n    if (input['language'] !== 'Solidity') {\n      return formatFatalError('Only Solidity sources are supported');\n    }\n\n    if (input['sources'] == null) {\n      return formatFatalError('No input specified');\n    }\n\n    // Bail out early\n    if ((input['sources'].length > 1) && (compileJSONMulti === null)) {\n      return formatFatalError('Multiple sources provided, but compiler only supports single input');\n    }\n\n    function isOptimizerEnabled (input) {\n      return input['settings'] && input['settings']['optimizer'] && input['settings']['optimizer']['enabled'];\n    }\n\n    function translateSources (input) {\n      var sources = {};\n      for (var source in input['sources']) {\n        if (input['sources'][source]['content'] !== null) {\n          sources[source] = input['sources'][source]['content'];\n        } else {\n          // force failure\n          return null;\n        }\n      }\n      return sources;\n    }\n\n    function translateOutput (output) {\n      output = translate.translateJsonCompilerOutput(JSON.parse(output));\n      if (output == null) {\n        return formatFatalError('Failed to process output');\n      }\n      return JSON.stringify(output);\n    }\n\n    var sources = translateSources(input);\n    if (sources === null) {\n      return formatFatalError('Failed to process sources');\n    }\n\n    // Try to wrap around old versions\n    if (compileJSONCallback !== null) {\n      return translateOutput(compileJSONCallback(JSON.stringify({ 'sources': sources }), isOptimizerEnabled(input), readCallback));\n    }\n\n    if (compileJSONMulti !== null) {\n      return translateOutput(compileJSONMulti(JSON.stringify({ 'sources': sources }), isOptimizerEnabled(input)));\n    }\n\n    // Try our luck with an ancient compiler\n    return translateOutput(compileJSON(sources[0], isOptimizerEnabled(input)));\n  };\n\n  var linkBytecode = function (bytecode, libraries) {\n    for (var libraryName in libraries) {\n      // truncate to 37 characters\n      var internalName = libraryName.slice(0, 36);\n      // prefix and suffix with __\n      var libLabel = '__' + internalName + Array(37 - internalName.length).join('_') + '__';\n\n      var hexAddress = libraries[libraryName];\n      if (hexAddress.slice(0, 2) !== '0x' || hexAddress.length > 42) {\n        throw new Error('Invalid address specified for ' + libraryName);\n      }\n      // remove 0x prefix\n      hexAddress = hexAddress.slice(2);\n      hexAddress = Array(40 - hexAddress.length + 1).join('0') + hexAddress;\n\n      while (bytecode.indexOf(libLabel) >= 0) {\n        bytecode = bytecode.replace(libLabel, hexAddress);\n      }\n    }\n\n    return bytecode;\n  };\n\n  var version = soljson.cwrap('version', 'string', []);\n\n  return {\n    version: version,\n    compile: compile,\n    compileStandard: compileStandard,\n    compileStandardWrapper: compileStandardWrapper,\n    linkBytecode: linkBytecode,\n    supportsMulti: compileJSONMulti !== null,\n    supportsImportCallback: compileJSONCallback !== null,\n    supportsStandard: compileStandard !== null,\n    // Use the given version if available.\n    useVersion: function (versionString) {\n      return setupMethods(require('./bin/soljson-' + versionString + '.js'));\n    },\n    // Loads the compiler of the given version from the github repository\n    // instead of from the local filesystem.\n    loadRemoteVersion: function (versionString, cb) {\n      var mem = new MemoryStream(null, {readable: false});\n      var url = 'https://ethereum.github.io/solc-bin/bin/soljson-' + versionString + '.js';\n      https.get(url, function (response) {\n        if (response.statusCode !== 200) {\n          cb('Error retrieving binary: ' + response.statusMessage);\n        } else {\n          response.pipe(mem);\n          response.on('end', function () {\n            cb(null, setupMethods(requireFromString(mem.toString(), 'soljson-' + versionString + '.js')));\n          });\n        }\n      }).on('error', function (error) {\n        cb(error);\n      });\n    },\n    // Use this if you want to add wrapper functions around the pure module.\n    setupMethods: setupMethods\n  };\n}\n\nmodule.exports = setupMethods;\n","import { Meteor } from 'meteor/meteor';\n\nMeteor.startup(() => {\n  // code to run on server at startup\n});\n"]}