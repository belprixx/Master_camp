{"version":3,"sources":["meteor://ðŸ’»app/client/template/components/accountInfo.js","meteor://ðŸ’»app/client/template/components/sendEther.js","meteor://ðŸ’»app/client/lib/modules/defaultSession.js","meteor://ðŸ’»app/client/lib/init.js","meteor://ðŸ’»app/client/lib/route.js","meteor://ðŸ’»app/client/main.js","meteor://ðŸ’»app/smart_contracts/solc-js/test/abi.js","meteor://ðŸ’»app/smart_contracts/solc-js/test/cli.js","meteor://ðŸ’»app/smart_contracts/solc-js/test/determinism.js","meteor://ðŸ’»app/smart_contracts/solc-js/test/index.js","meteor://ðŸ’»app/smart_contracts/solc-js/test/package.js","meteor://ðŸ’»app/smart_contracts/solc-js/abi.js","meteor://ðŸ’»app/smart_contracts/solc-js/downloadCurrentVersion.js","meteor://ðŸ’»app/smart_contracts/solc-js/index.js","meteor://ðŸ’»app/smart_contracts/solc-js/translate.js","meteor://ðŸ’»app/smart_contracts/solc-js/verifyVersion.js","meteor://ðŸ’»app/smart_contracts/solc-js/wrapper.js"],"names":["Template","accountBalanceComponent","helpers","accounts","EthAccounts","find","accountBalanceItem","name","address","balance","balanceEth","web3","fromWei","parseFloat","toFixed","estimatedFeeInWei","gas","Session","get","gasPrice","BigNumber","mul","estimationCallback","e","res","template","console","log","set","getGasPriceCallback","toString","sendEtherComponent","events","preventDefault","fundInfo","fAddr","$","target","val","tAddr","amount","toWei","findOne","reactive","eth","estimateGas","from","to","value","bind","getGasPrice","modal","sendConfirmModalTemplate","sendAmountInEther","amountEth","fee","sendTransaction","error","txHash","alert","defaultSessionVars","initialFundInfo","ammount","setDefault","Web3","currentProvider","providers","HttpProvider","init","Router","configure","layoutTemplate","route","redirect","module","watch","require","v","ReactiveVar","walletLayout","activeIfCurrent","currentRoute","current","getName","tape","abi","t","test","st","deepEqual","update","end","inputs","payable","type","input","spawn","pkg","spt","stdout","match","RegExp","version","stderr","empty","succeeds","fs","solc","prevBytecode","files","i","file","readFileSync","output","compile","sources","bytecode","contracts","ok","length","equal","f","findImports","path","contents","supportsStandard","skip","bytecodeExists","fileName","contractName","JSON","parse","compileStandard","stringify","compileStandardWrapper","plan","loadRemoteVersion","err","solcSnapshot","notOk","linkBytecode","indexOf","throws","semver","compilerVersion","hasConstructor","hasFallback","item","lt","push","exports","https","MemoryStream","getVersionList","cb","mem","readable","response","statusCode","process","exit","pipe","on","downloadBinary","createWriteStream","close","list","wanted","releases","wrapper","translateErrors","ret","errors","extractType","exec","trim","component","severity","message","formattedMessage","translateGasEstimates","gasEstimates","gasEstimatesTranslated","func","translateJsonCompilerOutput","contract","tmp","undefined","contractInput","contractOutput","sourceMap","sourceId","source","id","legacyAST","packageVersion","solcVersion","eq","translate","requireFromString","setupMethods","soljson","compileJSON","cwrap","compileJSONMulti","compileJSONCallback","copyString","str","ptr","buffer","_malloc","writeStringToMemory","setValue","wrapCallback","callback","result","Pointer_stringify","runWithReadCallback","readCallback","args","Runtime","addFunction","apply","removeFunction","compileInternal","optimize","compileStandardInternal","optimise","formatFatalError","isOptimizerEnabled","translateSources","translateOutput","libraries","libraryName","internalName","slice","libLabel","Array","join","hexAddress","Error","replace","supportsMulti","supportsImportCallback","useVersion","versionString","url","statusMessage"],"mappings":"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","file":"/app.js","sourcesContent":["Template.accountBalanceComponent.helpers({\n  accounts: function(){\n    return EthAccounts.find({});\n  }\n});\n\nTemplate.accountBalanceItem.helpers({\n  name: function(){\n    return this.name;\n  },\n  address: function(){\n    return this.address;\n  },\n  balance: function(){\n    var balanceEth = web3.fromWei(this.balance, \"ether\");\n    return parseFloat(balanceEth).toFixed(3);\n  }\n});\n","var estimatedFeeInWei =  function(){\n  var gas = Session.get('sendEther.estimatedGas');\n  var gasPrice = new BigNumber(Session.get('sendEther.currentGasPrice'));\n  return gasPrice.mul(gas);\n}\n\nvar estimationCallback = function(e, res){\n    var template = this;\n    console.log('Estimated gas: ', res, e);\n    if(!e && res) {\n        Session.set('sendEther.estimatedGas', res);\n    }\n};\n\nvar getGasPriceCallback = function(e, res){\n    var template = this;\n    console.log('Current Gas Price in Wei: ', res.toString(10), e);\n    if(!e && res) {\n        Session.set('sendEther.currentGasPrice', res.toString(10));\n    }\n};\n\nTemplate.sendEtherComponent.events({\n  'submit form': function(e) {\n    var template = this;\n    e.preventDefault();\n    var fundInfo = {\n      fAddr: $(e.target).find('[name=f-addr]').val(),\n      tAddr: $(e.target).find('[name=t-addr]').val(),\n      amount: web3.toWei($(e.target).find('[name=amount]').val(),'ether')\n    };\n\n    if(EthAccounts.findOne({address: fundInfo.fAddr}, {reactive: false})) {\n      Session.set('sendEther.fundInfo', fundInfo);\n      web3.eth.estimateGas({from: fundInfo.fAddr, to: fundInfo.tAddr, value: fundInfo.amount}, estimationCallback.bind(template));\n      web3.eth.getGasPrice(getGasPriceCallback.bind(template));\n      $('#sendConfirmModal').modal('show');\n    }\n  }\n});\n\nTemplate.sendConfirmModalTemplate.helpers({\n  sendAmountInEther: function(){\n    var amountEth = web3.fromWei(Session.get(\"sendEther.fundInfo\").amount,'ether');\n    return parseFloat(amountEth).toFixed(3);\n  },\n  fAddr: function(){\n    return Session.get(\"sendEther.fundInfo\").fAddr;\n  },\n  tAddr: function(){\n    return Session.get(\"sendEther.fundInfo\").tAddr;\n  },\n  fee: function(){\n    return web3.fromWei(estimatedFeeInWei(),'ether').toString(10);\n  }\n});\n\nTemplate.sendConfirmModalTemplate.events({\n  'click #send': function(e) {\n    e.preventDefault();\n    var fundInfo = Session.get(\"sendEther.fundInfo\");\n    web3.eth.sendTransaction({\n      from: fundInfo.fAddr,\n      to: fundInfo.tAddr,\n      value: fundInfo.amount\n    }, function(error, txHash){\n      console.log(\"Transaction Hash:\", txHash, error);\n      if(!error) {\n        alert(\"Ether Transfer Succeeded\");\n      } else {\n        alert(\"Ether Transfer Failed\");\n      }\n    });\n    $('#sendConfirmModal').modal('hide');\n}});\n","defaultSessionVars = function() {\n        var initialFundInfo = {ammount:0,fAddr:0x0,tAddr:0x0};\n\n        Session.setDefault(\"sendEther.fundInfo\", initialFundInfo);\n        Session.setDefault(\"sendEther.estimatedGas\", 0);\n        Session.setDefault(\"sendEther.currentGasPrice\", 0);\n\n};\n","// Checks Web3 support\nif(typeof web3 !== 'undefined' && typeof Web3 !== 'undefined') {\n    // If there's a web3 library loaded, then make your own web3\n    web3 = new Web3(web3.currentProvider);\n} else if (typeof Web3 !== 'undefined') {\n    // If there isn't then set a provider\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));\n} else if(typeof web3 == 'undefined') {\n    // Alert the user he is not in a web3 compatible browser\n    return;\n}\n\n//initialize the account\nEthAccounts.init()\n//initialize the session with default value\ndefaultSessionVars();\n","Router.configure({\n\t// LayoutTemplate\n\tlayoutTemplate: 'walletLayout',\n});\n\nRouter.route('/', function(){\n\t//set redirect assosiated with '/'\n\tthis.redirect('/dashboard');\n});\n\n// Set mapping between URL and Route template.\nRouter.route('/dashboard', {name: 'dashboard'});\nRouter.route('/sendEther', {name: 'sendEther'});\n","import { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport './main.html';\n\nTemplate.walletLayout.helpers({\n\n  activeIfCurrent: function (template) {\n    var currentRoute = Router.current();\n    if(currentRoute && template === Router.current().route.getName()){\n      return 'active';\n    }else{\n      return '';\n    }\n  }\n});\n","const tape = require('tape');\nconst abi = require('../abi.js');\n\ntape('ABI translator', function (t) {\n  t.test('Empty ABI', function (st) {\n    st.deepEqual(abi.update('0.4.0', []), []);\n    st.end();\n  });\n  t.test('0.1.1 (no constructor)', function (st) {\n    st.deepEqual(abi.update('0.1.1', []), [ { inputs: [], payable: true, type: 'constructor' }, { payable: true, type: 'fallback' } ]);\n    st.end();\n  });\n  t.test('0.4.0 (has fallback)', function (st) {\n    var input = [ { inputs: [], type: 'constructor' } ];\n    st.deepEqual(abi.update('0.4.0', input), [ { inputs: [], payable: true, type: 'constructor' } ]);\n    st.end();\n  });\n  t.test('0.4.1 (constructor not payable)', function (st) {\n    var input = [ { inputs: [], payable: false, type: 'constructor' } ];\n    st.deepEqual(abi.update('0.4.1', input), [ { inputs: [], payable: true, type: 'constructor' } ]);\n    st.end();\n  });\n  t.test('0.4.5 (constructor payable)', function (st) {\n    var input = [ { inputs: [], payable: false, type: 'constructor' } ];\n    st.deepEqual(abi.update('0.4.5', input), [ { inputs: [], payable: false, type: 'constructor' } ]);\n    st.end();\n  });\n});\n","const tape = require('tape');\nconst spawn = require('tape-spawn');\nconst pkg = require('../package.json');\n\ntape('CLI', function (t) {\n  t.test('--version', function (st) {\n    var spt = spawn(st, './solcjs --version');\n    spt.stdout.match(RegExp(pkg.version + '(-[^a-zA-A0-9.+]+)?(\\\\+[^a-zA-Z0-9.-]+)?'));\n    spt.end();\n  });\n\n  t.test('no parameters', function (st) {\n    var spt = spawn(st, './solcjs');\n    spt.stderr.match(/^Must provide a file/);\n    spt.end();\n  });\n\n  t.test('no mode specified', function (st) {\n    var spt = spawn(st, './solcjs test/DAO/Token.sol');\n    spt.stdout.match(/^Invalid option selected/);\n    spt.end();\n  });\n\n  t.test('--bin', function (st) {\n    var spt = spawn(st, './solcjs --bin test/DAO/Token.sol');\n    spt.stderr.empty();\n    spt.succeeds();\n    spt.end();\n  });\n\n  t.test('invalid file specified', function (st) {\n    var spt = spawn(st, './solcjs --bin test/fileNotFound.sol');\n    spt.stdout.match(/^Error reading /);\n    spt.end();\n  });\n\n  t.test('--abi', function (st) {\n    var spt = spawn(st, './solcjs --abi test/DAO/Token.sol');\n    spt.stderr.empty();\n    spt.succeeds();\n    spt.end();\n  });\n\n  t.test('--bin --abi', function (st) {\n    var spt = spawn(st, './solcjs --bin --abi test/DAO/Token.sol');\n    spt.stderr.empty();\n    spt.succeeds();\n    spt.end();\n  });\n});\n","const tape = require('tape');\nconst fs = require('fs');\nconst solc = require('../index.js');\n\ntape('Deterministic Compilation', function (t) {\n  t.test('DAO', function (st) {\n    var input = {};\n    var prevBytecode = null;\n    var files = ['DAO.sol', 'Token.sol', 'TokenCreation.sol', 'ManagedAccount.sol'];\n    var i;\n    for (i in files) {\n      var file = files[i];\n      input[file] = fs.readFileSync('test/DAO/' + file, 'utf8');\n    }\n    for (i = 0; i < 10; i++) {\n      var output = solc.compile({sources: input}, 1);\n      var bytecode = output.contracts['DAO.sol:DAO'].bytecode;\n      st.ok(bytecode.length > 0);\n      if (prevBytecode !== null) {\n        st.equal(prevBytecode, bytecode);\n      }\n      prevBytecode = bytecode;\n      // reset compiler state\n      solc.compile({sources: {f: 'contract c {}'}}, 1);\n    }\n    st.end();\n  });\n});\n","require('./package.js');\nrequire('./cli.js');\nrequire('./determinism.js');\nrequire('./abi.js');\n","const tape = require('tape');\nconst solc = require('../index.js');\n\ntape('Compilation', function (t) {\n  t.test('single files can be compiled', function (st) {\n    var output = solc.compile('contract x { function g() {} }');\n    st.ok(':x' in output.contracts);\n    st.ok(output.contracts[':x'].bytecode.length > 0);\n    st.end();\n  });\n  t.test('multiple files can be compiled', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    st.ok('cont.sol:x' in output.contracts);\n    st.ok('lib.sol:L' in output.contracts);\n    st.ok(output.contracts['cont.sol:x'].bytecode.length > 0);\n    st.ok(output.contracts['lib.sol:L'].bytecode.length > 0);\n    st.end();\n  });\n  t.test('lazy-loading callback works', function (st) {\n    var input = {\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    function findImports (path) {\n      if (path === 'lib.sol') {\n        return { contents: 'library L { function f() returns (uint) { return 7; } }' };\n      } else {\n        return { error: 'File not found' };\n      }\n    }\n    var output = solc.compile({sources: input}, 0, findImports);\n    st.ok('cont.sol:x' in output.contracts);\n    st.ok('lib.sol:L' in output.contracts);\n    st.ok(output.contracts['cont.sol:x'].bytecode.length > 0);\n    st.ok(output.contracts['lib.sol:L'].bytecode.length > 0);\n    st.end();\n  });\n  t.test('compiling standard JSON', function (st) {\n    if (!solc.supportsStandard) {\n      st.skip('Not supported by solc');\n      st.end();\n      return;\n    }\n\n    var input = {\n      'language': 'Solidity',\n      'sources': {\n        'lib.sol': {\n          'content': 'library L { function f() returns (uint) { return 7; } }'\n        },\n        'cont.sol': {\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n        }\n      }\n    };\n\n    function bytecodeExists (output, fileName, contractName) {\n      try {\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var output = JSON.parse(solc.compileStandard(JSON.stringify(input)));\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));\n    st.end();\n  });\n  t.test('compiling standard JSON (with callback)', function (st) {\n    if (!solc.supportsStandard) {\n      st.skip('Not supported by solc');\n      st.end();\n      return;\n    }\n\n    var input = {\n      'language': 'Solidity',\n      'sources': {\n        'cont.sol': {\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n        }\n      }\n    };\n\n    function findImports (path) {\n      if (path === 'lib.sol') {\n        return { contents: 'library L { function f() returns (uint) { return 7; } }' };\n      } else {\n        return { error: 'File not found' };\n      }\n    }\n\n    function bytecodeExists (output, fileName, contractName) {\n      try {\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var output = JSON.parse(solc.compileStandard(JSON.stringify(input), findImports));\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));\n    st.end();\n  });\n  t.test('compiling standard JSON (using wrapper)', function (st) {\n    var input = {\n      'language': 'Solidity',\n      'sources': {\n        'lib.sol': {\n          'content': 'library L { function f() returns (uint) { return 7; } }'\n        },\n        'cont.sol': {\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n        }\n      }\n    };\n\n    function bytecodeExists (output, fileName, contractName) {\n      try {\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var output = JSON.parse(solc.compileStandardWrapper(JSON.stringify(input)));\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));\n    st.end();\n  });\n});\ntape('Loading Legacy Versions', function (t) {\n  t.test('loading remote version - development snapshot', function (st) {\n    // getting the development snapshot\n    st.plan(3);\n    solc.loadRemoteVersion('latest', function (err, solcSnapshot) {\n      st.notOk(err);\n      var output = solcSnapshot.compile('contract x { function g() {} }');\n      st.ok(':x' in output.contracts);\n      st.ok(output.contracts[':x'].bytecode.length > 0);\n    });\n  });\n});\n\ntape('Linking', function (t) {\n  t.test('link properly', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { 'lib.sol:L': '0x123456' });\n    st.ok(bytecode.indexOf('_') < 0);\n    st.end();\n  });\n\n  t.test('linker to fail with missing library', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { });\n    st.ok(bytecode.indexOf('_') >= 0);\n    st.end();\n  });\n\n  t.test('linker to fail with invalid address', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    st.throws(function () {\n      solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { 'lib.sol:L': '' });\n    });\n    st.end();\n  });\n\n  t.test('linker properly with truncated library name', function (st) {\n    var input = {\n      'lib.sol': 'library L1234567890123456789012345678901234567890 { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L1234567890123456789012345678901234567890.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { 'lib.sol:L1234567890123456789012345678901234567890': '0x123456' });\n    st.ok(bytecode.indexOf('_') < 0);\n    st.end();\n  });\n});\n","var semver = require('semver');\n\nfunction update (compilerVersion, abi) {\n  var hasConstructor = false;\n  var hasFallback = false;\n\n  for (var i = 0; i < abi.length; i++) {\n    var item = abi[i];\n\n    if (item.type === 'constructor') {\n      hasConstructor = true;\n\n      // <0.4.5 assumed every constructor to be payable\n      if (semver.lt(compilerVersion, '0.4.5')) {\n        item.payable = true;\n      }\n    } else if (item.type === 'fallback') {\n      hasFallback = true;\n    }\n\n    // add 'payable' to everything\n    if (semver.lt(compilerVersion, '0.4.0')) {\n      item.payable = true;\n    }\n  }\n\n  // 0.1.2 from Aug 2015 had it. The code has it since May 2015 (e7931ade)\n  if (!hasConstructor && semver.lt(compilerVersion, '0.1.2')) {\n    abi.push({\n      type: 'constructor',\n      payable: true,\n      inputs: []\n    });\n  }\n\n  if (!hasFallback && semver.lt(compilerVersion, '0.4.0')) {\n    abi.push({\n      type: 'fallback',\n      payable: true\n    });\n  }\n\n  return abi;\n}\n\nmodule.exports = {\n  update: update\n};\n","#!/usr/bin/env node\n\n// This is used to download the correct binary version\n// as part of the prepublish step.\n\nvar pkg = require('./package.json');\nvar fs = require('fs');\nvar https = require('https');\nvar MemoryStream = require('memorystream');\n\nfunction getVersionList (cb) {\n  console.log('Retrieving available version list...');\n\n  var mem = new MemoryStream(null, { readable: false });\n  https.get('https://ethereum.github.io/solc-bin/bin/list.json', function (response) {\n    if (response.statusCode !== 200) {\n      console.log('Error downloading file: ' + response.statusCode);\n      process.exit(1);\n    }\n    response.pipe(mem);\n    response.on('end', function () {\n      cb(mem.toString());\n    });\n  });\n}\n\nfunction downloadBinary (version) {\n  console.log('Downloading version', version);\n\n  var file = fs.createWriteStream('soljson.js');\n  https.get('https://ethereum.github.io/solc-bin/bin/' + version, function (response) {\n    if (response.statusCode !== 200) {\n      console.log('Error downloading file: ' + response.statusCode);\n      process.exit(1);\n    }\n    response.pipe(file);\n    file.on('finish', function () {\n      file.close(function () {\n        console.log('Done.');\n      });\n    });\n  });\n}\n\nconsole.log('Downloading correct solidity binary...');\n\ngetVersionList(function (list) {\n  list = JSON.parse(list);\n  var wanted = pkg.version.match(/^(\\d+\\.\\d+\\.\\d+)$/)[1];\n  downloadBinary(list.releases[wanted]);\n});\n","var wrapper = require('./wrapper.js');\n\nmodule.exports = wrapper(require('./soljson.js'));\n","function translateErrors (ret, errors) {\n  for (var error in errors) {\n    var type = 'error';\n    var extractType = /^(.*):(\\d+):(\\d+):(.*):/;\n    extractType = extractType.exec(errors[error]);\n    if (extractType) {\n      type = extractType[4].trim();\n    } else if (errors[error].indexOf(': Warning:')) {\n      type = 'Warning';\n    } else if (errors[error].indexOf(': Error:')) {\n      type = 'Error';\n    }\n    ret.push({\n      type: type,\n      component: 'general',\n      severity: (type === 'Warning') ? 'warning' : 'error',\n      message: errors[error],\n      formattedMessage: errors[error]\n    });\n  }\n}\n\nfunction translateGasEstimates (gasEstimates) {\n  if (gasEstimates === null) {\n    return 'infinite';\n  }\n\n  if (typeof gasEstimates === 'number') {\n    return gasEstimates.toString();\n  }\n\n  var gasEstimatesTranslated = {};\n  for (var func in gasEstimates) {\n    gasEstimatesTranslated[func] = translateGasEstimates(gasEstimates[func]);\n  }\n  return gasEstimatesTranslated;\n}\n\nfunction translateJsonCompilerOutput (output) {\n  var ret = {};\n\n  ret['errors'] = [];\n  translateErrors(ret['errors'], output['errors']);\n\n  ret['contracts'] = {};\n  for (var contract in output['contracts']) {\n    // Split name first, can be `contract`, `:contract` or `filename:contract`\n    var tmp = contract.match(/^(([^:]*):)?([^:]+)$/);\n    if (tmp.length !== 4) {\n      // Force abort\n      return null;\n    }\n    var fileName = tmp[2];\n    if (fileName === undefined) {\n      // this is the case of `contract`\n      fileName = '';\n    }\n    var contractName = tmp[3];\n\n    var contractInput = output['contracts'][contract];\n\n    var gasEstimates = contractInput['gasEstimates'];\n\n    var contractOutput = {\n      'abi': JSON.parse(contractInput['interface']),\n      'metadata': contractInput['metadata'],\n      'evm': {\n        'legacyAssembly': contractInput['assembly'],\n        'bytecode': {\n          'object': contractInput['bytecode'],\n          'opcodes': contractInput['opcodes'],\n          'sourceMap': contractInput['srcmap']\n        },\n        'deployedBytecode': {\n          'object': contractInput['runtimeBytecode'],\n          'sourceMap': contractInput['srcmapRuntime']\n        },\n        'methodIdentifiers': contractInput['functionHashes'],\n        'gasEstimates': {\n          'creation': {\n            'codeDepositCost': translateGasEstimates(gasEstimates['creation'][1]),\n            'executionCost': translateGasEstimates(gasEstimates['creation'][0])\n          },\n          'internal': translateGasEstimates(gasEstimates['internal']),\n          'external': translateGasEstimates(gasEstimates['external'])\n        }\n      }\n    };\n\n    if (!ret['contracts'][fileName]) {\n      ret['contracts'][fileName] = {};\n    }\n\n    ret['contracts'][fileName][contractName] = contractOutput;\n  }\n\n  var sourceMap = {};\n  for (var sourceId in output['sourceList']) {\n    sourceMap[output['sourceList'][sourceId]] = sourceId;\n  }\n\n  ret['sources'] = {};\n  for (var source in output['sources']) {\n    ret['sources'][source] = {\n      id: sourceMap[source],\n      legacyAST: output['sources'][source]\n    };\n  }\n\n  return ret;\n}\n\nmodule.exports = {\n  translateJsonCompilerOutput: translateJsonCompilerOutput\n};\n","#!/usr/bin/env node\n\nvar semver = require('semver');\n\nvar packageVersion = require('./package.json').version;\nvar solcVersion = require('./index.js').version();\n\nconsole.log('solcVersion: ' + solcVersion);\nconsole.log('packageVersion: ' + packageVersion);\n\nif (semver.eq(packageVersion, solcVersion)) {\n  console.log('Version matching');\n  process.exit(0);\n} else {\n  console.log('Version mismatch');\n  process.exit(1);\n}\n","var translate = require('./translate.js');\nvar requireFromString = require('require-from-string');\nvar https = require('https');\nvar MemoryStream = require('memorystream');\n\nfunction setupMethods (soljson) {\n  var compileJSON = soljson.cwrap('compileJSON', 'string', ['string', 'number']);\n  var compileJSONMulti = null;\n  if ('_compileJSONMulti' in soljson) {\n    compileJSONMulti = soljson.cwrap('compileJSONMulti', 'string', ['string', 'number']);\n  }\n  var compileJSONCallback = null;\n  var compileStandard = null;\n  if (('_compileJSONCallback' in soljson) || ('_compileStandard' in soljson)) {\n    var copyString = function (str, ptr) {\n      var buffer = soljson._malloc(str.length + 1);\n      soljson.writeStringToMemory(str, buffer);\n      soljson.setValue(ptr, buffer, '*');\n    };\n    var wrapCallback = function (callback) {\n      return function (path, contents, error) {\n        var result = callback(soljson.Pointer_stringify(path));\n        if (typeof result.contents === 'string') {\n          copyString(result.contents, contents);\n        }\n        if (typeof result.error === 'string') {\n          copyString(result.error, error);\n        }\n      };\n    };\n\n    // This calls compile() with args || cb\n    var runWithReadCallback = function (readCallback, compile, args) {\n      if (readCallback === undefined) {\n        readCallback = function (path) {\n          return {\n            error: 'File import callback not supported'\n          };\n        };\n      }\n      var cb = soljson.Runtime.addFunction(wrapCallback(readCallback));\n      var output;\n      try {\n        args.push(cb);\n        output = compile.apply(undefined, args);\n      } catch (e) {\n        soljson.Runtime.removeFunction(cb);\n        throw e;\n      }\n      soljson.Runtime.removeFunction(cb);\n      return output;\n    };\n\n    var compileInternal = soljson.cwrap('compileJSONCallback', 'string', ['string', 'number', 'number']);\n    compileJSONCallback = function (input, optimize, readCallback) {\n      return runWithReadCallback(readCallback, compileInternal, [ input, optimize ]);\n    };\n    if ('_compileStandard' in soljson) {\n      var compileStandardInternal = soljson.cwrap('compileStandard', 'string', ['string', 'number']);\n      compileStandard = function (input, readCallback) {\n        return runWithReadCallback(readCallback, compileStandardInternal, [ input ]);\n      };\n    }\n  }\n\n  var compile = function (input, optimise, readCallback) {\n    var result = '';\n    if (readCallback !== undefined && compileJSONCallback !== null) {\n      result = compileJSONCallback(JSON.stringify(input), optimise, readCallback);\n    } else if (typeof input !== 'string' && compileJSONMulti !== null) {\n      result = compileJSONMulti(JSON.stringify(input), optimise);\n    } else {\n      result = compileJSON(input, optimise);\n    }\n    return JSON.parse(result);\n  };\n\n  // Expects a Standard JSON I/O but supports old compilers\n  var compileStandardWrapper = function (input, readCallback) {\n    if (compileStandard !== null) {\n      return compileStandard(input, readCallback);\n    }\n\n    function formatFatalError (message) {\n      return JSON.stringify({\n        errors: [\n          {\n            'type': 'SOLCError',\n            'component': 'solcjs',\n            'severity': 'error',\n            'message': message,\n            'formattedMessage': 'Error' + message\n          }\n        ]\n      });\n    }\n\n    input = JSON.parse(input);\n\n    if (input['language'] !== 'Solidity') {\n      return formatFatalError('Only Solidity sources are supported');\n    }\n\n    if (input['sources'] == null) {\n      return formatFatalError('No input specified');\n    }\n\n    // Bail out early\n    if ((input['sources'].length > 1) && (compileJSONMulti === null)) {\n      return formatFatalError('Multiple sources provided, but compiler only supports single input');\n    }\n\n    function isOptimizerEnabled (input) {\n      return input['settings'] && input['settings']['optimizer'] && input['settings']['optimizer']['enabled'];\n    }\n\n    function translateSources (input) {\n      var sources = {};\n      for (var source in input['sources']) {\n        if (input['sources'][source]['content'] !== null) {\n          sources[source] = input['sources'][source]['content'];\n        } else {\n          // force failure\n          return null;\n        }\n      }\n      return sources;\n    }\n\n    function translateOutput (output) {\n      output = translate.translateJsonCompilerOutput(JSON.parse(output));\n      if (output == null) {\n        return formatFatalError('Failed to process output');\n      }\n      return JSON.stringify(output);\n    }\n\n    var sources = translateSources(input);\n    if (sources === null) {\n      return formatFatalError('Failed to process sources');\n    }\n\n    // Try to wrap around old versions\n    if (compileJSONCallback !== null) {\n      return translateOutput(compileJSONCallback(JSON.stringify({ 'sources': sources }), isOptimizerEnabled(input), readCallback));\n    }\n\n    if (compileJSONMulti !== null) {\n      return translateOutput(compileJSONMulti(JSON.stringify({ 'sources': sources }), isOptimizerEnabled(input)));\n    }\n\n    // Try our luck with an ancient compiler\n    return translateOutput(compileJSON(sources[0], isOptimizerEnabled(input)));\n  };\n\n  var linkBytecode = function (bytecode, libraries) {\n    for (var libraryName in libraries) {\n      // truncate to 37 characters\n      var internalName = libraryName.slice(0, 36);\n      // prefix and suffix with __\n      var libLabel = '__' + internalName + Array(37 - internalName.length).join('_') + '__';\n\n      var hexAddress = libraries[libraryName];\n      if (hexAddress.slice(0, 2) !== '0x' || hexAddress.length > 42) {\n        throw new Error('Invalid address specified for ' + libraryName);\n      }\n      // remove 0x prefix\n      hexAddress = hexAddress.slice(2);\n      hexAddress = Array(40 - hexAddress.length + 1).join('0') + hexAddress;\n\n      while (bytecode.indexOf(libLabel) >= 0) {\n        bytecode = bytecode.replace(libLabel, hexAddress);\n      }\n    }\n\n    return bytecode;\n  };\n\n  var version = soljson.cwrap('version', 'string', []);\n\n  return {\n    version: version,\n    compile: compile,\n    compileStandard: compileStandard,\n    compileStandardWrapper: compileStandardWrapper,\n    linkBytecode: linkBytecode,\n    supportsMulti: compileJSONMulti !== null,\n    supportsImportCallback: compileJSONCallback !== null,\n    supportsStandard: compileStandard !== null,\n    // Use the given version if available.\n    useVersion: function (versionString) {\n      return setupMethods(require('./bin/soljson-' + versionString + '.js'));\n    },\n    // Loads the compiler of the given version from the github repository\n    // instead of from the local filesystem.\n    loadRemoteVersion: function (versionString, cb) {\n      var mem = new MemoryStream(null, {readable: false});\n      var url = 'https://ethereum.github.io/solc-bin/bin/soljson-' + versionString + '.js';\n      https.get(url, function (response) {\n        if (response.statusCode !== 200) {\n          cb('Error retrieving binary: ' + response.statusMessage);\n        } else {\n          response.pipe(mem);\n          response.on('end', function () {\n            cb(null, setupMethods(requireFromString(mem.toString(), 'soljson-' + versionString + '.js')));\n          });\n        }\n      }).on('error', function (error) {\n        cb(error);\n      });\n    },\n    // Use this if you want to add wrapper functions around the pure module.\n    setupMethods: setupMethods\n  };\n}\n\nmodule.exports = setupMethods;\n"]}