[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nSession = Package.session.Session;\nEthAccounts = Package['ethereum:accounts'].EthAccounts;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nprocess = Package.modules.process;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nIron = Package['iron:core'].Iron;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template\":{\"components\":{\"template.accountInfo.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/template/components/template.accountInfo.js                                                                //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\n                                                                                                                     // 1\nTemplate.__checkName(\"accountBalanceComponent\");                                                                     // 2\nTemplate[\"accountBalanceComponent\"] = new Template(\"Template.accountBalanceComponent\", (function() {                 // 3\n  var view = this;                                                                                                   // 4\n  return HTML.DIV({                                                                                                  // 5\n    class: \"panel panel-primary\"                                                                                     // 6\n  }, HTML.Raw('\\n    <div class=\"panel-heading\">\\n      <h4>Account Balance</h4>\\n    </div>\\n    '), HTML.TABLE({   // 7\n    class: \"table\"                                                                                                   // 8\n  }, \"\\n      \", HTML.THEAD(\"\\n        \", HTML.TR(\"\\n          \", HTML.TH(\"Name\"), \"\\n          \", HTML.TH(\"Address\"), \"\\n          \", HTML.TH(\"Balance[in ether]\"), \"\\n        \"), \"\\n      \"), \"\\n      \", HTML.TBODY(\"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"accounts\"));                                                                  // 10\n  }, function() {                                                                                                    // 11\n    return [ \"\\n          \", Spacebars.include(view.lookupTemplate(\"accountBalanceItem\")), \"\\n        \" ];           // 12\n  }), \"\\n      \"), \"\\n    \"), \"\\n  \");                                                                               // 13\n}));                                                                                                                 // 14\n                                                                                                                     // 15\nTemplate.__checkName(\"accountBalanceItem\");                                                                          // 16\nTemplate[\"accountBalanceItem\"] = new Template(\"Template.accountBalanceItem\", (function() {                           // 17\n  var view = this;                                                                                                   // 18\n  return HTML.TR(\"\\n    \", HTML.TD(Blaze.View(\"lookup:name\", function() {                                            // 19\n    return Spacebars.mustache(view.lookup(\"name\"));                                                                  // 20\n  })), \"\\n    \", HTML.TD(Blaze.View(\"lookup:address\", function() {                                                   // 21\n    return Spacebars.mustache(view.lookup(\"address\"));                                                               // 22\n  })), \"\\n    \", HTML.TD(Blaze.View(\"lookup:balance\", function() {                                                   // 23\n    return Spacebars.mustache(view.lookup(\"balance\"));                                                               // 24\n  })), \"\\n  \");                                                                                                      // 25\n}));                                                                                                                 // 26\n                                                                                                                     // 27\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.sendEther.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/template/components/template.sendEther.js                                                                  //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\n                                                                                                                     // 1\nTemplate.__checkName(\"sendEtherComponent\");                                                                          // 2\nTemplate[\"sendEtherComponent\"] = new Template(\"Template.sendEtherComponent\", (function() {                           // 3\n  var view = this;                                                                                                   // 4\n  return [ HTML.DIV({                                                                                                // 5\n    class: \"panel panel-primary\"                                                                                     // 6\n  }, \"\\n    \", HTML.Raw('<div class=\"panel-heading\">\\n      <h4>Send Ether</h4>\\n    </div>'), \"\\n    \", HTML.DIV({  // 7\n    class: \"panel-body\"                                                                                              // 8\n  }, \"\\n      \", HTML.FORM({                                                                                         // 9\n    class: \"form-horizontal\"                                                                                         // 10\n  }, \"\\n        \", Blaze._TemplateWith(function() {                                                                  // 11\n    return {                                                                                                         // 12\n      inputId: Spacebars.call(\"f-addr\"),                                                                             // 13\n      labelStr: Spacebars.call(\"From:\"),                                                                             // 14\n      placeholderStr: Spacebars.call(\"0x1234abcdef....\")                                                             // 15\n    };                                                                                                               // 16\n  }, function() {                                                                                                    // 17\n    return Spacebars.include(view.lookupTemplate(\"sendInputTemplate\"));                                              // 18\n  }), \"\\n        \", Blaze._TemplateWith(function() {                                                                 // 19\n    return {                                                                                                         // 20\n      inputId: Spacebars.call(\"t-addr\"),                                                                             // 21\n      labelStr: Spacebars.call(\"To:\"),                                                                               // 22\n      placeholderStr: Spacebars.call(\"0x1234abcdef....\")                                                             // 23\n    };                                                                                                               // 24\n  }, function() {                                                                                                    // 25\n    return Spacebars.include(view.lookupTemplate(\"sendInputTemplate\"));                                              // 26\n  }), \"\\n        \", Blaze._TemplateWith(function() {                                                                 // 27\n    return {                                                                                                         // 28\n      inputId: Spacebars.call(\"amount\"),                                                                             // 29\n      labelStr: Spacebars.call(\"Amount(ether):\"),                                                                    // 30\n      placeholderStr: Spacebars.call(\"0.0\")                                                                          // 31\n    };                                                                                                               // 32\n  }, function() {                                                                                                    // 33\n    return Spacebars.include(view.lookupTemplate(\"sendInputTemplate\"));                                              // 34\n  }), \"\\n        \", HTML.Raw('<input type=\"submit\" value=\"submit\" class=\"btn btn-primary col-md-offset-6\">'), \"\\n      \"), \"\\n    \"), \"\\n  \"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"sendConfirmModalTemplate\")) ];\n}));                                                                                                                 // 36\n                                                                                                                     // 37\nTemplate.__checkName(\"sendInputTemplate\");                                                                           // 38\nTemplate[\"sendInputTemplate\"] = new Template(\"Template.sendInputTemplate\", (function() {                             // 39\n  var view = this;                                                                                                   // 40\n  return HTML.DIV({                                                                                                  // 41\n    class: \"form-group\"                                                                                              // 42\n  }, \"\\n    \", HTML.LABEL({                                                                                          // 43\n    class: \"control-label col-md-3\",                                                                                 // 44\n    for: function() {                                                                                                // 45\n      return Spacebars.mustache(view.lookup(\"inputId\"));                                                             // 46\n    }                                                                                                                // 47\n  }, Blaze.View(\"lookup:labelStr\", function() {                                                                      // 48\n    return Spacebars.mustache(view.lookup(\"labelStr\"));                                                              // 49\n  })), \"\\n    \", HTML.DIV({                                                                                          // 50\n    class: \"controls col-md-6\"                                                                                       // 51\n  }, \"\\n      \", HTML.INPUT({                                                                                        // 52\n    name: function() {                                                                                               // 53\n      return Spacebars.mustache(view.lookup(\"inputId\"));                                                             // 54\n    },                                                                                                               // 55\n    id: function() {                                                                                                 // 56\n      return Spacebars.mustache(view.lookup(\"iputId\"));                                                              // 57\n    },                                                                                                               // 58\n    type: \"text\",                                                                                                    // 59\n    value: \"\",                                                                                                       // 60\n    placeholder: function() {                                                                                        // 61\n      return Spacebars.mustache(view.lookup(\"placeholderStr\"));                                                      // 62\n    },                                                                                                               // 63\n    class: \"form-control\"                                                                                            // 64\n  }), \"\\n    \"), \"\\n  \");                                                                                            // 65\n}));                                                                                                                 // 66\n                                                                                                                     // 67\nTemplate.__checkName(\"sendConfirmModalTemplate\");                                                                    // 68\nTemplate[\"sendConfirmModalTemplate\"] = new Template(\"Template.sendConfirmModalTemplate\", (function() {               // 69\n  var view = this;                                                                                                   // 70\n  return HTML.DIV({                                                                                                  // 71\n    class: \"modal fade\",                                                                                             // 72\n    id: \"sendConfirmModal\"                                                                                           // 73\n  }, \"\\n    \", HTML.DIV({                                                                                            // 74\n    class: \"modal-dialog\"                                                                                            // 75\n  }, \"\\n      \", HTML.DIV({                                                                                          // 76\n    class: \"modal-content\"                                                                                           // 77\n  }, \"\\n        \", HTML.Raw('<div class=\"modal-header alert-danger\">\\n          <h4 class=\"modal-title\">Confirmation</h4>\\n        </div>'), \"\\n        \", HTML.DIV({\n    class: \"modal-body\"                                                                                              // 79\n  }, \"\\n          \", HTML.H4(\"Send \", Blaze.View(\"lookup:sendAmountInEther\", function() {                            // 80\n    return Spacebars.mustache(view.lookup(\"sendAmountInEther\"));                                                     // 81\n  }), \" ETHER\"), \"\\n          \", HTML.UL(\"\\n            \", HTML.LI(HTML.Raw(\"<b>From:</b>\"), \" \", Blaze.View(\"lookup:fAddr\", function() {\n    return Spacebars.mustache(view.lookup(\"fAddr\"));                                                                 // 83\n  })), \"\\n            \", HTML.LI(HTML.Raw(\"<b>To:</b>\"), \" \", Blaze.View(\"lookup:tAddr\", function() {                // 84\n    return Spacebars.mustache(view.lookup(\"tAddr\"));                                                                 // 85\n  })), \"\\n            \", HTML.LI(HTML.Raw(\"<b>Estimated Fee:</b>\"), \" \", Blaze.View(\"lookup:fee\", function() {       // 86\n    return Spacebars.mustache(view.lookup(\"fee\"));                                                                   // 87\n  }), \" Ether.\"), \"\\n          \"), \"\\n          \", HTML.Raw(\"<br>\"), \"\\n          \", HTML.Raw(\"<h4>Do you really send the Ether?</h4>\"), \"\\n        \"), \"\\n        \", HTML.Raw('<div class=\"modal-footer\">\\n          <button type=\"button\" class=\"btn btn-default\" id=\"send\">Yes</button>\\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancel</button>\\n        </div>'), \"\\n      \"), \"\\n    \"), \"\\n  \");\n}));                                                                                                                 // 89\n                                                                                                                     // 90\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"accountInfo.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/template/components/accountInfo.js                                                                         //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nTemplate.accountBalanceComponent.helpers({                                                                           // 1\n  accounts: function () {                                                                                            // 2\n    return EthAccounts.find({});                                                                                     // 3\n  }                                                                                                                  // 4\n});                                                                                                                  // 1\nTemplate.accountBalanceItem.helpers({                                                                                // 7\n  name: function () {                                                                                                // 8\n    return this.name;                                                                                                // 9\n  },                                                                                                                 // 10\n  address: function () {                                                                                             // 11\n    return this.address;                                                                                             // 12\n  },                                                                                                                 // 13\n  balance: function () {                                                                                             // 14\n    var balanceEth = web3.fromWei(this.balance, \"ether\");                                                            // 15\n    return parseFloat(balanceEth).toFixed(3);                                                                        // 16\n  }                                                                                                                  // 17\n});                                                                                                                  // 7\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"sendEther.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/template/components/sendEther.js                                                                           //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nvar estimatedFeeInWei = function () {                                                                                // 1\n  var gas = Session.get('sendEther.estimatedGas');                                                                   // 2\n  var gasPrice = new BigNumber(Session.get('sendEther.currentGasPrice'));                                            // 3\n  return gasPrice.mul(gas);                                                                                          // 4\n};                                                                                                                   // 5\n                                                                                                                     //\nvar estimationCallback = function (e, res) {                                                                         // 7\n  var template = this;                                                                                               // 8\n  console.log('Estimated gas: ', res, e);                                                                            // 9\n                                                                                                                     //\n  if (!e && res) {                                                                                                   // 10\n    Session.set('sendEther.estimatedGas', res);                                                                      // 11\n  }                                                                                                                  // 12\n};                                                                                                                   // 13\n                                                                                                                     //\nvar getGasPriceCallback = function (e, res) {                                                                        // 15\n  var template = this;                                                                                               // 16\n  console.log('Current Gas Price in Wei: ', res.toString(10), e);                                                    // 17\n                                                                                                                     //\n  if (!e && res) {                                                                                                   // 18\n    Session.set('sendEther.currentGasPrice', res.toString(10));                                                      // 19\n  }                                                                                                                  // 20\n};                                                                                                                   // 21\n                                                                                                                     //\nTemplate.sendEtherComponent.events({                                                                                 // 23\n  'submit form': function (e) {                                                                                      // 24\n    var template = this;                                                                                             // 25\n    e.preventDefault();                                                                                              // 26\n    var fundInfo = {                                                                                                 // 27\n      fAddr: $(e.target).find('[name=f-addr]').val(),                                                                // 28\n      tAddr: $(e.target).find('[name=t-addr]').val(),                                                                // 29\n      amount: web3.toWei($(e.target).find('[name=amount]').val(), 'ether')                                           // 30\n    };                                                                                                               // 27\n                                                                                                                     //\n    if (EthAccounts.findOne({                                                                                        // 33\n      address: fundInfo.fAddr                                                                                        // 33\n    }, {                                                                                                             // 33\n      reactive: false                                                                                                // 33\n    })) {                                                                                                            // 33\n      Session.set('sendEther.fundInfo', fundInfo);                                                                   // 34\n      web3.eth.estimateGas({                                                                                         // 35\n        from: fundInfo.fAddr,                                                                                        // 35\n        to: fundInfo.tAddr,                                                                                          // 35\n        value: fundInfo.amount                                                                                       // 35\n      }, estimationCallback.bind(template));                                                                         // 35\n      web3.eth.getGasPrice(getGasPriceCallback.bind(template));                                                      // 36\n      $('#sendConfirmModal').modal('show');                                                                          // 37\n    }                                                                                                                // 38\n  }                                                                                                                  // 39\n});                                                                                                                  // 23\nTemplate.sendConfirmModalTemplate.helpers({                                                                          // 42\n  sendAmountInEther: function () {                                                                                   // 43\n    var amountEth = web3.fromWei(Session.get(\"sendEther.fundInfo\").amount, 'ether');                                 // 44\n    return parseFloat(amountEth).toFixed(3);                                                                         // 45\n  },                                                                                                                 // 46\n  fAddr: function () {                                                                                               // 47\n    return Session.get(\"sendEther.fundInfo\").fAddr;                                                                  // 48\n  },                                                                                                                 // 49\n  tAddr: function () {                                                                                               // 50\n    return Session.get(\"sendEther.fundInfo\").tAddr;                                                                  // 51\n  },                                                                                                                 // 52\n  fee: function () {                                                                                                 // 53\n    return web3.fromWei(estimatedFeeInWei(), 'ether').toString(10);                                                  // 54\n  }                                                                                                                  // 55\n});                                                                                                                  // 42\nTemplate.sendConfirmModalTemplate.events({                                                                           // 58\n  'click #send': function (e) {                                                                                      // 59\n    e.preventDefault();                                                                                              // 60\n    var fundInfo = Session.get(\"sendEther.fundInfo\");                                                                // 61\n    web3.eth.sendTransaction({                                                                                       // 62\n      from: fundInfo.fAddr,                                                                                          // 63\n      to: fundInfo.tAddr,                                                                                            // 64\n      value: fundInfo.amount                                                                                         // 65\n    }, function (error, txHash) {                                                                                    // 62\n      console.log(\"Transaction Hash:\", txHash, error);                                                               // 67\n                                                                                                                     //\n      if (!error) {                                                                                                  // 68\n        alert(\"Ether Transfer Succeeded\");                                                                           // 69\n      } else {                                                                                                       // 70\n        alert(\"Ether Transfer Failed\");                                                                              // 71\n      }                                                                                                              // 72\n    });                                                                                                              // 73\n    $('#sendConfirmModal').modal('hide');                                                                            // 74\n  }                                                                                                                  // 75\n});                                                                                                                  // 58\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"views\":{\"template.dashboard.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/template/views/template.dashboard.js                                                                       //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\n                                                                                                                     // 1\nTemplate.__checkName(\"dashboard\");                                                                                   // 2\nTemplate[\"dashboard\"] = new Template(\"Template.dashboard\", (function() {                                             // 3\n  var view = this;                                                                                                   // 4\n  return HTML.DIV({                                                                                                  // 5\n    class: \"row-fluid\"                                                                                               // 6\n  }, \"\\n    \", HTML.DIV({                                                                                            // 7\n    class: \"col-md-8 col-md-offset-2\"                                                                                // 8\n  }, \"\\n\\n      \", Spacebars.include(view.lookupTemplate(\"accountBalanceComponent\")), \"\\n    \"), \"\\n  \");            // 9\n}));                                                                                                                 // 10\n                                                                                                                     // 11\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.send.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/template/views/template.send.js                                                                            //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\n                                                                                                                     // 1\nTemplate.__checkName(\"sendEther\");                                                                                   // 2\nTemplate[\"sendEther\"] = new Template(\"Template.sendEther\", (function() {                                             // 3\n  var view = this;                                                                                                   // 4\n  return HTML.DIV({                                                                                                  // 5\n    class: \"row-fluid\"                                                                                               // 6\n  }, \"\\n    \", HTML.DIV({                                                                                            // 7\n    class: \"col-md-8 col-md-offset-2\"                                                                                // 8\n  }, \"\\n      \", Spacebars.include(view.lookupTemplate(\"sendEtherComponent\")), \"\\n    \"), \"\\n  \");                   // 9\n}));                                                                                                                 // 10\n                                                                                                                     // 11\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"main.html\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/main.html                                                                                                  //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nmodule.exports = require(\"./template.main.js\");                                                                      // 1\n                                                                                                                     // 2\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.main.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/template.main.js                                                                                           //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\n                                                                                                                     // 1\nTemplate.__checkName(\"walletLayout\");                                                                                // 2\nTemplate[\"walletLayout\"] = new Template(\"Template.walletLayout\", (function() {                                       // 3\n  var view = this;                                                                                                   // 4\n  return [ HTML.Raw('<header>\\n          <h2 align=\"center\" style=\"color:blue\">Mini-Dashboard</h2>\\n    </header>\\n'), HTML.NAV({\n    class: \"navbar navbar-default\"                                                                                   // 6\n  }, \"\\n  \", HTML.DIV({                                                                                              // 7\n    class: \"container-fluid\"                                                                                         // 8\n  }, \"\\n    \", HTML.Raw('<div class=\"navbar-header\">\\n      <!--<a class=\"navbar-brand\" href=\"{{pathFor \\'dashboard\\'}}\">Mini Ether Dashboard</a> -->\\n    </div>'), \"\\n    \", HTML.UL({\n    class: \"nav navbar-nav\"                                                                                          // 10\n  }, \"\\n      \", HTML.LI({                                                                                           // 11\n    class: function() {                                                                                              // 12\n      return Spacebars.mustache(view.lookup(\"activeIfCurrent\"), \"dashboard\");                                        // 13\n    }                                                                                                                // 14\n  }, HTML.A({                                                                                                        // 15\n    href: function() {                                                                                               // 16\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"dashboard\");                                                // 17\n    }                                                                                                                // 18\n  }, \"Dashboard\")), \"\\n      \", HTML.LI({                                                                            // 19\n    class: function() {                                                                                              // 20\n      return Spacebars.mustache(view.lookup(\"activeIfCurrent\"), \"sendEther\");                                        // 21\n    }                                                                                                                // 22\n  }, HTML.A({                                                                                                        // 23\n    href: function() {                                                                                               // 24\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"sendEther\");                                                // 25\n    }                                                                                                                // 26\n  }, \"Send Ether\")), \"\\n    \"), \"\\n  \"), \"\\n\"), \"\\n\", HTML.MAIN({                                                    // 27\n    class: \"container-fluid\"                                                                                         // 28\n  }, \"\\n  \", Spacebars.include(view.lookupTemplate(\"yield\")), \"\\n\"), HTML.Raw(\"\\n<hr>\\n<footer>MLGBlockchain @2017</footer>\") ];\n}));                                                                                                                 // 30\n                                                                                                                     // 31\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"lib\":{\"modules\":{\"defaultSession.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/lib/modules/defaultSession.js                                                                              //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\ndefaultSessionVars = function () {                                                                                   // 1\n        var initialFundInfo = {                                                                                      // 2\n                ammount: 0,                                                                                          // 2\n                fAddr: 0x0,                                                                                          // 2\n                tAddr: 0x0                                                                                           // 2\n        };                                                                                                           // 2\n        Session.setDefault(\"sendEther.fundInfo\", initialFundInfo);                                                   // 4\n        Session.setDefault(\"sendEther.estimatedGas\", 0);                                                             // 5\n        Session.setDefault(\"sendEther.currentGasPrice\", 0);                                                          // 6\n};                                                                                                                   // 8\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"init.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/lib/init.js                                                                                                //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\n// Checks Web3 support                                                                                               // 1\nif (typeof web3 !== 'undefined' && typeof Web3 !== 'undefined') {                                                    // 2\n    // If there's a web3 library loaded, then make your own web3                                                     // 3\n    web3 = new Web3(web3.currentProvider);                                                                           // 4\n} else if (typeof Web3 !== 'undefined') {                                                                            // 5\n    // If there isn't then set a provider                                                                            // 6\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));                                       // 7\n} else if (typeof web3 == 'undefined') {                                                                             // 8\n    // Alert the user he is not in a web3 compatible browser                                                         // 9\n    return;                                                                                                          // 10\n} //initialize the account                                                                                           // 11\n                                                                                                                     //\n                                                                                                                     //\nEthAccounts.init //initialize the session with default value                                                         // 14\n();                                                                                                                  // 14\ndefaultSessionVars();                                                                                                // 16\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"route.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/lib/route.js                                                                                               //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nRouter.configure({                                                                                                   // 1\n\t// LayoutTemplate                                                                                                   // 2\n\tlayoutTemplate: 'walletLayout'                                                                                      // 3\n});                                                                                                                  // 1\nRouter.route('/', function () {                                                                                      // 6\n\t//set redirect assosiated with '/'                                                                                  // 7\n\tthis.redirect('/dashboard');                                                                                        // 8\n}); // Set mapping between URL and Route template.                                                                   // 9\n                                                                                                                     //\nRouter.route('/dashboard', {                                                                                         // 12\n\tname: 'dashboard'                                                                                                   // 12\n});                                                                                                                  // 12\nRouter.route('/sendEther', {                                                                                         // 13\n\tname: 'sendEther'                                                                                                   // 13\n});                                                                                                                  // 13\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"main.js\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// client/main.js                                                                                                    //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nvar Template = void 0;                                                                                               // 1\nmodule.watch(require(\"meteor/templating\"), {                                                                         // 1\n  Template: function (v) {                                                                                           // 1\n    Template = v;                                                                                                    // 1\n  }                                                                                                                  // 1\n}, 0);                                                                                                               // 1\nvar ReactiveVar = void 0;                                                                                            // 1\nmodule.watch(require(\"meteor/reactive-var\"), {                                                                       // 1\n  ReactiveVar: function (v) {                                                                                        // 1\n    ReactiveVar = v;                                                                                                 // 1\n  }                                                                                                                  // 1\n}, 1);                                                                                                               // 1\nmodule.watch(require(\"./main.html\"));                                                                                // 1\nTemplate.walletLayout.helpers({                                                                                      // 6\n  activeIfCurrent: function (template) {                                                                             // 8\n    var currentRoute = Router.current();                                                                             // 9\n                                                                                                                     //\n    if (currentRoute && template === Router.current().route.getName()) {                                             // 10\n      return 'active';                                                                                               // 11\n    } else {                                                                                                         // 12\n      return '';                                                                                                     // 13\n    }                                                                                                                // 14\n  }                                                                                                                  // 15\n});                                                                                                                  // 6\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"smart_contracts\":{\"solc-js\":{\"test\":{\"abi.js\":function(require){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/test/abi.js                                                                               //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nvar tape = require('tape');                                                                                          // 1\n                                                                                                                     //\nvar abi = require('../abi.js');                                                                                      // 2\n                                                                                                                     //\ntape('ABI translator', function (t) {                                                                                // 4\n  t.test('Empty ABI', function (st) {                                                                                // 5\n    st.deepEqual(abi.update('0.4.0', []), []);                                                                       // 6\n    st.end();                                                                                                        // 7\n  });                                                                                                                // 8\n  t.test('0.1.1 (no constructor)', function (st) {                                                                   // 9\n    st.deepEqual(abi.update('0.1.1', []), [{                                                                         // 10\n      inputs: [],                                                                                                    // 10\n      payable: true,                                                                                                 // 10\n      type: 'constructor'                                                                                            // 10\n    }, {                                                                                                             // 10\n      payable: true,                                                                                                 // 10\n      type: 'fallback'                                                                                               // 10\n    }]);                                                                                                             // 10\n    st.end();                                                                                                        // 11\n  });                                                                                                                // 12\n  t.test('0.4.0 (has fallback)', function (st) {                                                                     // 13\n    var input = [{                                                                                                   // 14\n      inputs: [],                                                                                                    // 14\n      type: 'constructor'                                                                                            // 14\n    }];                                                                                                              // 14\n    st.deepEqual(abi.update('0.4.0', input), [{                                                                      // 15\n      inputs: [],                                                                                                    // 15\n      payable: true,                                                                                                 // 15\n      type: 'constructor'                                                                                            // 15\n    }]);                                                                                                             // 15\n    st.end();                                                                                                        // 16\n  });                                                                                                                // 17\n  t.test('0.4.1 (constructor not payable)', function (st) {                                                          // 18\n    var input = [{                                                                                                   // 19\n      inputs: [],                                                                                                    // 19\n      payable: false,                                                                                                // 19\n      type: 'constructor'                                                                                            // 19\n    }];                                                                                                              // 19\n    st.deepEqual(abi.update('0.4.1', input), [{                                                                      // 20\n      inputs: [],                                                                                                    // 20\n      payable: true,                                                                                                 // 20\n      type: 'constructor'                                                                                            // 20\n    }]);                                                                                                             // 20\n    st.end();                                                                                                        // 21\n  });                                                                                                                // 22\n  t.test('0.4.5 (constructor payable)', function (st) {                                                              // 23\n    var input = [{                                                                                                   // 24\n      inputs: [],                                                                                                    // 24\n      payable: false,                                                                                                // 24\n      type: 'constructor'                                                                                            // 24\n    }];                                                                                                              // 24\n    st.deepEqual(abi.update('0.4.5', input), [{                                                                      // 25\n      inputs: [],                                                                                                    // 25\n      payable: false,                                                                                                // 25\n      type: 'constructor'                                                                                            // 25\n    }]);                                                                                                             // 25\n    st.end();                                                                                                        // 26\n  });                                                                                                                // 27\n});                                                                                                                  // 28\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"cli.js\":function(require){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/test/cli.js                                                                               //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nvar tape = require('tape');                                                                                          // 1\n                                                                                                                     //\nvar spawn = require('tape-spawn');                                                                                   // 2\n                                                                                                                     //\nvar pkg = require('../package.json');                                                                                // 3\n                                                                                                                     //\ntape('CLI', function (t) {                                                                                           // 5\n  t.test('--version', function (st) {                                                                                // 6\n    var spt = spawn(st, './solcjs --version');                                                                       // 7\n    spt.stdout.match(RegExp(pkg.version + '(-[^a-zA-A0-9.+]+)?(\\\\+[^a-zA-Z0-9.-]+)?'));                              // 8\n    spt.end();                                                                                                       // 9\n  });                                                                                                                // 10\n  t.test('no parameters', function (st) {                                                                            // 12\n    var spt = spawn(st, './solcjs');                                                                                 // 13\n    spt.stderr.match(/^Must provide a file/);                                                                        // 14\n    spt.end();                                                                                                       // 15\n  });                                                                                                                // 16\n  t.test('no mode specified', function (st) {                                                                        // 18\n    var spt = spawn(st, './solcjs test/DAO/Token.sol');                                                              // 19\n    spt.stdout.match(/^Invalid option selected/);                                                                    // 20\n    spt.end();                                                                                                       // 21\n  });                                                                                                                // 22\n  t.test('--bin', function (st) {                                                                                    // 24\n    var spt = spawn(st, './solcjs --bin test/DAO/Token.sol');                                                        // 25\n    spt.stderr.empty();                                                                                              // 26\n    spt.succeeds();                                                                                                  // 27\n    spt.end();                                                                                                       // 28\n  });                                                                                                                // 29\n  t.test('invalid file specified', function (st) {                                                                   // 31\n    var spt = spawn(st, './solcjs --bin test/fileNotFound.sol');                                                     // 32\n    spt.stdout.match(/^Error reading /);                                                                             // 33\n    spt.end();                                                                                                       // 34\n  });                                                                                                                // 35\n  t.test('--abi', function (st) {                                                                                    // 37\n    var spt = spawn(st, './solcjs --abi test/DAO/Token.sol');                                                        // 38\n    spt.stderr.empty();                                                                                              // 39\n    spt.succeeds();                                                                                                  // 40\n    spt.end();                                                                                                       // 41\n  });                                                                                                                // 42\n  t.test('--bin --abi', function (st) {                                                                              // 44\n    var spt = spawn(st, './solcjs --bin --abi test/DAO/Token.sol');                                                  // 45\n    spt.stderr.empty();                                                                                              // 46\n    spt.succeeds();                                                                                                  // 47\n    spt.end();                                                                                                       // 48\n  });                                                                                                                // 49\n});                                                                                                                  // 50\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"determinism.js\":function(require){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/test/determinism.js                                                                       //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nvar tape = require('tape');                                                                                          // 1\n                                                                                                                     //\nvar fs = require('fs');                                                                                              // 2\n                                                                                                                     //\nvar solc = require('../index.js');                                                                                   // 3\n                                                                                                                     //\ntape('Deterministic Compilation', function (t) {                                                                     // 5\n  t.test('DAO', function (st) {                                                                                      // 6\n    var input = {};                                                                                                  // 7\n    var prevBytecode = null;                                                                                         // 8\n    var files = ['DAO.sol', 'Token.sol', 'TokenCreation.sol', 'ManagedAccount.sol'];                                 // 9\n    var i;                                                                                                           // 10\n                                                                                                                     //\n    for (i in meteorBabelHelpers.sanitizeForInObject(files)) {                                                       // 11\n      var file = files[i];                                                                                           // 12\n      input[file] = fs.readFileSync('test/DAO/' + file, 'utf8');                                                     // 13\n    }                                                                                                                // 14\n                                                                                                                     //\n    for (i = 0; i < 10; i++) {                                                                                       // 15\n      var output = solc.compile({                                                                                    // 16\n        sources: input                                                                                               // 16\n      }, 1);                                                                                                         // 16\n      var bytecode = output.contracts['DAO.sol:DAO'].bytecode;                                                       // 17\n      st.ok(bytecode.length > 0);                                                                                    // 18\n                                                                                                                     //\n      if (prevBytecode !== null) {                                                                                   // 19\n        st.equal(prevBytecode, bytecode);                                                                            // 20\n      }                                                                                                              // 21\n                                                                                                                     //\n      prevBytecode = bytecode; // reset compiler state                                                               // 22\n                                                                                                                     //\n      solc.compile({                                                                                                 // 24\n        sources: {                                                                                                   // 24\n          f: 'contract c {}'                                                                                         // 24\n        }                                                                                                            // 24\n      }, 1);                                                                                                         // 24\n    }                                                                                                                // 25\n                                                                                                                     //\n    st.end();                                                                                                        // 26\n  });                                                                                                                // 27\n});                                                                                                                  // 28\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"index.js\":function(require){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/test/index.js                                                                             //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nrequire('./package.js');                                                                                             // 1\n                                                                                                                     //\nrequire('./cli.js');                                                                                                 // 2\n                                                                                                                     //\nrequire('./determinism.js');                                                                                         // 3\n                                                                                                                     //\nrequire('./abi.js');                                                                                                 // 4\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"package.js\":function(require){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/test/package.js                                                                           //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nvar tape = require('tape');                                                                                          // 1\n                                                                                                                     //\nvar solc = require('../index.js');                                                                                   // 2\n                                                                                                                     //\ntape('Compilation', function (t) {                                                                                   // 4\n  t.test('single files can be compiled', function (st) {                                                             // 5\n    var output = solc.compile('contract x { function g() {} }');                                                     // 6\n    st.ok(':x' in output.contracts);                                                                                 // 7\n    st.ok(output.contracts[':x'].bytecode.length > 0);                                                               // 8\n    st.end();                                                                                                        // 9\n  });                                                                                                                // 10\n  t.test('multiple files can be compiled', function (st) {                                                           // 11\n    var input = {                                                                                                    // 12\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',                                          // 13\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'                                         // 14\n    };                                                                                                               // 12\n    var output = solc.compile({                                                                                      // 16\n      sources: input                                                                                                 // 16\n    });                                                                                                              // 16\n    st.ok('cont.sol:x' in output.contracts);                                                                         // 17\n    st.ok('lib.sol:L' in output.contracts);                                                                          // 18\n    st.ok(output.contracts['cont.sol:x'].bytecode.length > 0);                                                       // 19\n    st.ok(output.contracts['lib.sol:L'].bytecode.length > 0);                                                        // 20\n    st.end();                                                                                                        // 21\n  });                                                                                                                // 22\n  t.test('lazy-loading callback works', function (st) {                                                              // 23\n    var input = {                                                                                                    // 24\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'                                         // 25\n    };                                                                                                               // 24\n                                                                                                                     //\n    function findImports(path) {                                                                                     // 27\n      if (path === 'lib.sol') {                                                                                      // 28\n        return {                                                                                                     // 29\n          contents: 'library L { function f() returns (uint) { return 7; } }'                                        // 29\n        };                                                                                                           // 29\n      } else {                                                                                                       // 30\n        return {                                                                                                     // 31\n          error: 'File not found'                                                                                    // 31\n        };                                                                                                           // 31\n      }                                                                                                              // 32\n    }                                                                                                                // 33\n                                                                                                                     //\n    var output = solc.compile({                                                                                      // 34\n      sources: input                                                                                                 // 34\n    }, 0, findImports);                                                                                              // 34\n    st.ok('cont.sol:x' in output.contracts);                                                                         // 35\n    st.ok('lib.sol:L' in output.contracts);                                                                          // 36\n    st.ok(output.contracts['cont.sol:x'].bytecode.length > 0);                                                       // 37\n    st.ok(output.contracts['lib.sol:L'].bytecode.length > 0);                                                        // 38\n    st.end();                                                                                                        // 39\n  });                                                                                                                // 40\n  t.test('compiling standard JSON', function (st) {                                                                  // 41\n    if (!solc.supportsStandard) {                                                                                    // 42\n      st.skip('Not supported by solc');                                                                              // 43\n      st.end();                                                                                                      // 44\n      return;                                                                                                        // 45\n    }                                                                                                                // 46\n                                                                                                                     //\n    var input = {                                                                                                    // 48\n      'language': 'Solidity',                                                                                        // 49\n      'sources': {                                                                                                   // 50\n        'lib.sol': {                                                                                                 // 51\n          'content': 'library L { function f() returns (uint) { return 7; } }'                                       // 52\n        },                                                                                                           // 51\n        'cont.sol': {                                                                                                // 54\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'                                      // 55\n        }                                                                                                            // 54\n      }                                                                                                              // 50\n    };                                                                                                               // 48\n                                                                                                                     //\n    function bytecodeExists(output, fileName, contractName) {                                                        // 60\n      try {                                                                                                          // 61\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;                     // 62\n      } catch (e) {                                                                                                  // 63\n        return false;                                                                                                // 64\n      }                                                                                                              // 65\n    }                                                                                                                // 66\n                                                                                                                     //\n    var output = JSON.parse(solc.compileStandard(JSON.stringify(input)));                                            // 68\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));                                                                  // 69\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));                                                                   // 70\n    st.end();                                                                                                        // 71\n  });                                                                                                                // 72\n  t.test('compiling standard JSON (with callback)', function (st) {                                                  // 73\n    if (!solc.supportsStandard) {                                                                                    // 74\n      st.skip('Not supported by solc');                                                                              // 75\n      st.end();                                                                                                      // 76\n      return;                                                                                                        // 77\n    }                                                                                                                // 78\n                                                                                                                     //\n    var input = {                                                                                                    // 80\n      'language': 'Solidity',                                                                                        // 81\n      'sources': {                                                                                                   // 82\n        'cont.sol': {                                                                                                // 83\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'                                      // 84\n        }                                                                                                            // 83\n      }                                                                                                              // 82\n    };                                                                                                               // 80\n                                                                                                                     //\n    function findImports(path) {                                                                                     // 89\n      if (path === 'lib.sol') {                                                                                      // 90\n        return {                                                                                                     // 91\n          contents: 'library L { function f() returns (uint) { return 7; } }'                                        // 91\n        };                                                                                                           // 91\n      } else {                                                                                                       // 92\n        return {                                                                                                     // 93\n          error: 'File not found'                                                                                    // 93\n        };                                                                                                           // 93\n      }                                                                                                              // 94\n    }                                                                                                                // 95\n                                                                                                                     //\n    function bytecodeExists(output, fileName, contractName) {                                                        // 97\n      try {                                                                                                          // 98\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;                     // 99\n      } catch (e) {                                                                                                  // 100\n        return false;                                                                                                // 101\n      }                                                                                                              // 102\n    }                                                                                                                // 103\n                                                                                                                     //\n    var output = JSON.parse(solc.compileStandard(JSON.stringify(input), findImports));                               // 105\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));                                                                  // 106\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));                                                                   // 107\n    st.end();                                                                                                        // 108\n  });                                                                                                                // 109\n  t.test('compiling standard JSON (using wrapper)', function (st) {                                                  // 110\n    var input = {                                                                                                    // 111\n      'language': 'Solidity',                                                                                        // 112\n      'sources': {                                                                                                   // 113\n        'lib.sol': {                                                                                                 // 114\n          'content': 'library L { function f() returns (uint) { return 7; } }'                                       // 115\n        },                                                                                                           // 114\n        'cont.sol': {                                                                                                // 117\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'                                      // 118\n        }                                                                                                            // 117\n      }                                                                                                              // 113\n    };                                                                                                               // 111\n                                                                                                                     //\n    function bytecodeExists(output, fileName, contractName) {                                                        // 123\n      try {                                                                                                          // 124\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;                     // 125\n      } catch (e) {                                                                                                  // 126\n        return false;                                                                                                // 127\n      }                                                                                                              // 128\n    }                                                                                                                // 129\n                                                                                                                     //\n    var output = JSON.parse(solc.compileStandardWrapper(JSON.stringify(input)));                                     // 131\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));                                                                  // 132\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));                                                                   // 133\n    st.end();                                                                                                        // 134\n  });                                                                                                                // 135\n});                                                                                                                  // 136\ntape('Loading Legacy Versions', function (t) {                                                                       // 137\n  t.test('loading remote version - development snapshot', function (st) {                                            // 138\n    // getting the development snapshot                                                                              // 139\n    st.plan(3);                                                                                                      // 140\n    solc.loadRemoteVersion('latest', function (err, solcSnapshot) {                                                  // 141\n      st.notOk(err);                                                                                                 // 142\n      var output = solcSnapshot.compile('contract x { function g() {} }');                                           // 143\n      st.ok(':x' in output.contracts);                                                                               // 144\n      st.ok(output.contracts[':x'].bytecode.length > 0);                                                             // 145\n    });                                                                                                              // 146\n  });                                                                                                                // 147\n});                                                                                                                  // 148\ntape('Linking', function (t) {                                                                                       // 150\n  t.test('link properly', function (st) {                                                                            // 151\n    var input = {                                                                                                    // 152\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',                                          // 153\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'                                         // 154\n    };                                                                                                               // 152\n    var output = solc.compile({                                                                                      // 156\n      sources: input                                                                                                 // 156\n    });                                                                                                              // 156\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, {                                      // 157\n      'lib.sol:L': '0x123456'                                                                                        // 157\n    });                                                                                                              // 157\n    st.ok(bytecode.indexOf('_') < 0);                                                                                // 158\n    st.end();                                                                                                        // 159\n  });                                                                                                                // 160\n  t.test('linker to fail with missing library', function (st) {                                                      // 162\n    var input = {                                                                                                    // 163\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',                                          // 164\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'                                         // 165\n    };                                                                                                               // 163\n    var output = solc.compile({                                                                                      // 167\n      sources: input                                                                                                 // 167\n    });                                                                                                              // 167\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, {});                                   // 168\n    st.ok(bytecode.indexOf('_') >= 0);                                                                               // 169\n    st.end();                                                                                                        // 170\n  });                                                                                                                // 171\n  t.test('linker to fail with invalid address', function (st) {                                                      // 173\n    var input = {                                                                                                    // 174\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',                                          // 175\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'                                         // 176\n    };                                                                                                               // 174\n    var output = solc.compile({                                                                                      // 178\n      sources: input                                                                                                 // 178\n    });                                                                                                              // 178\n    st.throws(function () {                                                                                          // 179\n      solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, {                                                   // 180\n        'lib.sol:L': ''                                                                                              // 180\n      });                                                                                                            // 180\n    });                                                                                                              // 181\n    st.end();                                                                                                        // 182\n  });                                                                                                                // 183\n  t.test('linker properly with truncated library name', function (st) {                                              // 185\n    var input = {                                                                                                    // 186\n      'lib.sol': 'library L1234567890123456789012345678901234567890 { function f() returns (uint) { return 7; } }',  // 187\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L1234567890123456789012345678901234567890.f(); } }'\n    };                                                                                                               // 186\n    var output = solc.compile({                                                                                      // 190\n      sources: input                                                                                                 // 190\n    });                                                                                                              // 190\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, {                                      // 191\n      'lib.sol:L1234567890123456789012345678901234567890': '0x123456'                                                // 191\n    });                                                                                                              // 191\n    st.ok(bytecode.indexOf('_') < 0);                                                                                // 192\n    st.end();                                                                                                        // 193\n  });                                                                                                                // 194\n});                                                                                                                  // 195\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"abi.js\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/abi.js                                                                                    //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nvar semver = require('semver');                                                                                      // 1\n                                                                                                                     //\nfunction update(compilerVersion, abi) {                                                                              // 3\n  var hasConstructor = false;                                                                                        // 4\n  var hasFallback = false;                                                                                           // 5\n                                                                                                                     //\n  for (var i = 0; i < abi.length; i++) {                                                                             // 7\n    var item = abi[i];                                                                                               // 8\n                                                                                                                     //\n    if (item.type === 'constructor') {                                                                               // 10\n      hasConstructor = true; // <0.4.5 assumed every constructor to be payable                                       // 11\n                                                                                                                     //\n      if (semver.lt(compilerVersion, '0.4.5')) {                                                                     // 14\n        item.payable = true;                                                                                         // 15\n      }                                                                                                              // 16\n    } else if (item.type === 'fallback') {                                                                           // 17\n      hasFallback = true;                                                                                            // 18\n    } // add 'payable' to everything                                                                                 // 19\n                                                                                                                     //\n                                                                                                                     //\n    if (semver.lt(compilerVersion, '0.4.0')) {                                                                       // 22\n      item.payable = true;                                                                                           // 23\n    }                                                                                                                // 24\n  } // 0.1.2 from Aug 2015 had it. The code has it since May 2015 (e7931ade)                                         // 25\n                                                                                                                     //\n                                                                                                                     //\n  if (!hasConstructor && semver.lt(compilerVersion, '0.1.2')) {                                                      // 28\n    abi.push({                                                                                                       // 29\n      type: 'constructor',                                                                                           // 30\n      payable: true,                                                                                                 // 31\n      inputs: []                                                                                                     // 32\n    });                                                                                                              // 29\n  }                                                                                                                  // 34\n                                                                                                                     //\n  if (!hasFallback && semver.lt(compilerVersion, '0.4.0')) {                                                         // 36\n    abi.push({                                                                                                       // 37\n      type: 'fallback',                                                                                              // 38\n      payable: true                                                                                                  // 39\n    });                                                                                                              // 37\n  }                                                                                                                  // 41\n                                                                                                                     //\n  return abi;                                                                                                        // 43\n}                                                                                                                    // 44\n                                                                                                                     //\nmodule.exports = {                                                                                                   // 46\n  update: update                                                                                                     // 47\n};                                                                                                                   // 46\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"downloadCurrentVersion.js\":function(require){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/downloadCurrentVersion.js                                                                 //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\n///usr/bin/env node                                                                                                  // 1\n// This is used to download the correct binary version                                                               // 3\n// as part of the prepublish step.                                                                                   // 4\nvar pkg = require('./package.json');                                                                                 // 6\n                                                                                                                     //\nvar fs = require('fs');                                                                                              // 7\n                                                                                                                     //\nvar https = require('https');                                                                                        // 8\n                                                                                                                     //\nvar MemoryStream = require('memorystream');                                                                          // 9\n                                                                                                                     //\nfunction getVersionList(cb) {                                                                                        // 11\n  console.log('Retrieving available version list...');                                                               // 12\n  var mem = new MemoryStream(null, {                                                                                 // 14\n    readable: false                                                                                                  // 14\n  });                                                                                                                // 14\n  https.get('https://ethereum.github.io/solc-bin/bin/list.json', function (response) {                               // 15\n    if (response.statusCode !== 200) {                                                                               // 16\n      console.log('Error downloading file: ' + response.statusCode);                                                 // 17\n      process.exit(1);                                                                                               // 18\n    }                                                                                                                // 19\n                                                                                                                     //\n    response.pipe(mem);                                                                                              // 20\n    response.on('end', function () {                                                                                 // 21\n      cb(mem.toString());                                                                                            // 22\n    });                                                                                                              // 23\n  });                                                                                                                // 24\n}                                                                                                                    // 25\n                                                                                                                     //\nfunction downloadBinary(version) {                                                                                   // 27\n  console.log('Downloading version', version);                                                                       // 28\n  var file = fs.createWriteStream('soljson.js');                                                                     // 30\n  https.get('https://ethereum.github.io/solc-bin/bin/' + version, function (response) {                              // 31\n    if (response.statusCode !== 200) {                                                                               // 32\n      console.log('Error downloading file: ' + response.statusCode);                                                 // 33\n      process.exit(1);                                                                                               // 34\n    }                                                                                                                // 35\n                                                                                                                     //\n    response.pipe(file);                                                                                             // 36\n    file.on('finish', function () {                                                                                  // 37\n      file.close(function () {                                                                                       // 38\n        console.log('Done.');                                                                                        // 39\n      });                                                                                                            // 40\n    });                                                                                                              // 41\n  });                                                                                                                // 42\n}                                                                                                                    // 43\n                                                                                                                     //\nconsole.log('Downloading correct solidity binary...');                                                               // 45\ngetVersionList(function (list) {                                                                                     // 47\n  list = JSON.parse(list);                                                                                           // 48\n  var wanted = pkg.version.match(/^(\\d+\\.\\d+\\.\\d+)$/)[1];                                                            // 49\n  downloadBinary(list.releases[wanted]);                                                                             // 50\n});                                                                                                                  // 51\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"index.js\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/index.js                                                                                  //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nvar wrapper = require('./wrapper.js');                                                                               // 1\n                                                                                                                     //\nmodule.exports = wrapper(require('./soljson.js'));                                                                   // 3\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"translate.js\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/translate.js                                                                              //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nfunction translateErrors(ret, errors) {                                                                              // 1\n  for (var error in meteorBabelHelpers.sanitizeForInObject(errors)) {                                                // 2\n    var type = 'error';                                                                                              // 3\n    var extractType = /^(.*):(\\d+):(\\d+):(.*):/;                                                                     // 4\n    extractType = extractType.exec(errors[error]);                                                                   // 5\n                                                                                                                     //\n    if (extractType) {                                                                                               // 6\n      type = extractType[4].trim();                                                                                  // 7\n    } else if (errors[error].indexOf(': Warning:')) {                                                                // 8\n      type = 'Warning';                                                                                              // 9\n    } else if (errors[error].indexOf(': Error:')) {                                                                  // 10\n      type = 'Error';                                                                                                // 11\n    }                                                                                                                // 12\n                                                                                                                     //\n    ret.push({                                                                                                       // 13\n      type: type,                                                                                                    // 14\n      component: 'general',                                                                                          // 15\n      severity: type === 'Warning' ? 'warning' : 'error',                                                            // 16\n      message: errors[error],                                                                                        // 17\n      formattedMessage: errors[error]                                                                                // 18\n    });                                                                                                              // 13\n  }                                                                                                                  // 20\n}                                                                                                                    // 21\n                                                                                                                     //\nfunction translateGasEstimates(gasEstimates) {                                                                       // 23\n  if (gasEstimates === null) {                                                                                       // 24\n    return 'infinite';                                                                                               // 25\n  }                                                                                                                  // 26\n                                                                                                                     //\n  if (typeof gasEstimates === 'number') {                                                                            // 28\n    return gasEstimates.toString();                                                                                  // 29\n  }                                                                                                                  // 30\n                                                                                                                     //\n  var gasEstimatesTranslated = {};                                                                                   // 32\n                                                                                                                     //\n  for (var func in meteorBabelHelpers.sanitizeForInObject(gasEstimates)) {                                           // 33\n    gasEstimatesTranslated[func] = translateGasEstimates(gasEstimates[func]);                                        // 34\n  }                                                                                                                  // 35\n                                                                                                                     //\n  return gasEstimatesTranslated;                                                                                     // 36\n}                                                                                                                    // 37\n                                                                                                                     //\nfunction translateJsonCompilerOutput(output) {                                                                       // 39\n  var ret = {};                                                                                                      // 40\n  ret['errors'] = [];                                                                                                // 42\n  translateErrors(ret['errors'], output['errors']);                                                                  // 43\n  ret['contracts'] = {};                                                                                             // 45\n                                                                                                                     //\n  for (var contract in meteorBabelHelpers.sanitizeForInObject(output['contracts'])) {                                // 46\n    // Split name first, can be `contract`, `:contract` or `filename:contract`                                       // 47\n    var tmp = contract.match(/^(([^:]*):)?([^:]+)$/);                                                                // 48\n                                                                                                                     //\n    if (tmp.length !== 4) {                                                                                          // 49\n      // Force abort                                                                                                 // 50\n      return null;                                                                                                   // 51\n    }                                                                                                                // 52\n                                                                                                                     //\n    var fileName = tmp[2];                                                                                           // 53\n                                                                                                                     //\n    if (fileName === undefined) {                                                                                    // 54\n      // this is the case of `contract`                                                                              // 55\n      fileName = '';                                                                                                 // 56\n    }                                                                                                                // 57\n                                                                                                                     //\n    var contractName = tmp[3];                                                                                       // 58\n    var contractInput = output['contracts'][contract];                                                               // 60\n    var gasEstimates = contractInput['gasEstimates'];                                                                // 62\n    var contractOutput = {                                                                                           // 64\n      'abi': JSON.parse(contractInput['interface']),                                                                 // 65\n      'metadata': contractInput['metadata'],                                                                         // 66\n      'evm': {                                                                                                       // 67\n        'legacyAssembly': contractInput['assembly'],                                                                 // 68\n        'bytecode': {                                                                                                // 69\n          'object': contractInput['bytecode'],                                                                       // 70\n          'opcodes': contractInput['opcodes'],                                                                       // 71\n          'sourceMap': contractInput['srcmap']                                                                       // 72\n        },                                                                                                           // 69\n        'deployedBytecode': {                                                                                        // 74\n          'object': contractInput['runtimeBytecode'],                                                                // 75\n          'sourceMap': contractInput['srcmapRuntime']                                                                // 76\n        },                                                                                                           // 74\n        'methodIdentifiers': contractInput['functionHashes'],                                                        // 78\n        'gasEstimates': {                                                                                            // 79\n          'creation': {                                                                                              // 80\n            'codeDepositCost': translateGasEstimates(gasEstimates['creation'][1]),                                   // 81\n            'executionCost': translateGasEstimates(gasEstimates['creation'][0])                                      // 82\n          },                                                                                                         // 80\n          'internal': translateGasEstimates(gasEstimates['internal']),                                               // 84\n          'external': translateGasEstimates(gasEstimates['external'])                                                // 85\n        }                                                                                                            // 79\n      }                                                                                                              // 67\n    };                                                                                                               // 64\n                                                                                                                     //\n    if (!ret['contracts'][fileName]) {                                                                               // 90\n      ret['contracts'][fileName] = {};                                                                               // 91\n    }                                                                                                                // 92\n                                                                                                                     //\n    ret['contracts'][fileName][contractName] = contractOutput;                                                       // 94\n  }                                                                                                                  // 95\n                                                                                                                     //\n  var sourceMap = {};                                                                                                // 97\n                                                                                                                     //\n  for (var sourceId in meteorBabelHelpers.sanitizeForInObject(output['sourceList'])) {                               // 98\n    sourceMap[output['sourceList'][sourceId]] = sourceId;                                                            // 99\n  }                                                                                                                  // 100\n                                                                                                                     //\n  ret['sources'] = {};                                                                                               // 102\n                                                                                                                     //\n  for (var source in meteorBabelHelpers.sanitizeForInObject(output['sources'])) {                                    // 103\n    ret['sources'][source] = {                                                                                       // 104\n      id: sourceMap[source],                                                                                         // 105\n      legacyAST: output['sources'][source]                                                                           // 106\n    };                                                                                                               // 104\n  }                                                                                                                  // 108\n                                                                                                                     //\n  return ret;                                                                                                        // 110\n}                                                                                                                    // 111\n                                                                                                                     //\nmodule.exports = {                                                                                                   // 113\n  translateJsonCompilerOutput: translateJsonCompilerOutput                                                           // 114\n};                                                                                                                   // 113\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"verifyVersion.js\":function(require){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/verifyVersion.js                                                                          //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\n///usr/bin/env node                                                                                                  // 1\nvar semver = require('semver');                                                                                      // 3\n                                                                                                                     //\nvar packageVersion = require('./package.json').version;                                                              // 5\n                                                                                                                     //\nvar solcVersion = require('./index.js').version();                                                                   // 6\n                                                                                                                     //\nconsole.log('solcVersion: ' + solcVersion);                                                                          // 8\nconsole.log('packageVersion: ' + packageVersion);                                                                    // 9\n                                                                                                                     //\nif (semver.eq(packageVersion, solcVersion)) {                                                                        // 11\n  console.log('Version matching');                                                                                   // 12\n  process.exit(0);                                                                                                   // 13\n} else {                                                                                                             // 14\n  console.log('Version mismatch');                                                                                   // 15\n  process.exit(1);                                                                                                   // 16\n}                                                                                                                    // 17\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"wrapper.js\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/wrapper.js                                                                                //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nvar translate = require('./translate.js');                                                                           // 1\n                                                                                                                     //\nvar requireFromString = require('require-from-string');                                                              // 2\n                                                                                                                     //\nvar https = require('https');                                                                                        // 3\n                                                                                                                     //\nvar MemoryStream = require('memorystream');                                                                          // 4\n                                                                                                                     //\nfunction setupMethods(soljson) {                                                                                     // 6\n  var compileJSON = soljson.cwrap('compileJSON', 'string', ['string', 'number']);                                    // 7\n  var compileJSONMulti = null;                                                                                       // 8\n                                                                                                                     //\n  if ('_compileJSONMulti' in soljson) {                                                                              // 9\n    compileJSONMulti = soljson.cwrap('compileJSONMulti', 'string', ['string', 'number']);                            // 10\n  }                                                                                                                  // 11\n                                                                                                                     //\n  var compileJSONCallback = null;                                                                                    // 12\n  var compileStandard = null;                                                                                        // 13\n                                                                                                                     //\n  if ('_compileJSONCallback' in soljson || '_compileStandard' in soljson) {                                          // 14\n    var copyString = function (str, ptr) {                                                                           // 15\n      var buffer = soljson._malloc(str.length + 1);                                                                  // 16\n                                                                                                                     //\n      soljson.writeStringToMemory(str, buffer);                                                                      // 17\n      soljson.setValue(ptr, buffer, '*');                                                                            // 18\n    };                                                                                                               // 19\n                                                                                                                     //\n    var wrapCallback = function (callback) {                                                                         // 20\n      return function (path, contents, error) {                                                                      // 21\n        var result = callback(soljson.Pointer_stringify(path));                                                      // 22\n                                                                                                                     //\n        if (typeof result.contents === 'string') {                                                                   // 23\n          copyString(result.contents, contents);                                                                     // 24\n        }                                                                                                            // 25\n                                                                                                                     //\n        if (typeof result.error === 'string') {                                                                      // 26\n          copyString(result.error, error);                                                                           // 27\n        }                                                                                                            // 28\n      };                                                                                                             // 29\n    }; // This calls compile() with args || cb                                                                       // 30\n                                                                                                                     //\n                                                                                                                     //\n    var runWithReadCallback = function (readCallback, compile, args) {                                               // 33\n      if (readCallback === undefined) {                                                                              // 34\n        readCallback = function (path) {                                                                             // 35\n          return {                                                                                                   // 36\n            error: 'File import callback not supported'                                                              // 37\n          };                                                                                                         // 36\n        };                                                                                                           // 39\n      }                                                                                                              // 40\n                                                                                                                     //\n      var cb = soljson.Runtime.addFunction(wrapCallback(readCallback));                                              // 41\n      var output;                                                                                                    // 42\n                                                                                                                     //\n      try {                                                                                                          // 43\n        args.push(cb);                                                                                               // 44\n        output = compile.apply(undefined, args);                                                                     // 45\n      } catch (e) {                                                                                                  // 46\n        soljson.Runtime.removeFunction(cb);                                                                          // 47\n        throw e;                                                                                                     // 48\n      }                                                                                                              // 49\n                                                                                                                     //\n      soljson.Runtime.removeFunction(cb);                                                                            // 50\n      return output;                                                                                                 // 51\n    };                                                                                                               // 52\n                                                                                                                     //\n    var compileInternal = soljson.cwrap('compileJSONCallback', 'string', ['string', 'number', 'number']);            // 54\n                                                                                                                     //\n    compileJSONCallback = function (input, optimize, readCallback) {                                                 // 55\n      return runWithReadCallback(readCallback, compileInternal, [input, optimize]);                                  // 56\n    };                                                                                                               // 57\n                                                                                                                     //\n    if ('_compileStandard' in soljson) {                                                                             // 58\n      var compileStandardInternal = soljson.cwrap('compileStandard', 'string', ['string', 'number']);                // 59\n                                                                                                                     //\n      compileStandard = function (input, readCallback) {                                                             // 60\n        return runWithReadCallback(readCallback, compileStandardInternal, [input]);                                  // 61\n      };                                                                                                             // 62\n    }                                                                                                                // 63\n  }                                                                                                                  // 64\n                                                                                                                     //\n  var compile = function (input, optimise, readCallback) {                                                           // 66\n    var result = '';                                                                                                 // 67\n                                                                                                                     //\n    if (readCallback !== undefined && compileJSONCallback !== null) {                                                // 68\n      result = compileJSONCallback(JSON.stringify(input), optimise, readCallback);                                   // 69\n    } else if (typeof input !== 'string' && compileJSONMulti !== null) {                                             // 70\n      result = compileJSONMulti(JSON.stringify(input), optimise);                                                    // 71\n    } else {                                                                                                         // 72\n      result = compileJSON(input, optimise);                                                                         // 73\n    }                                                                                                                // 74\n                                                                                                                     //\n    return JSON.parse(result);                                                                                       // 75\n  }; // Expects a Standard JSON I/O but supports old compilers                                                       // 76\n                                                                                                                     //\n                                                                                                                     //\n  var compileStandardWrapper = function (input, readCallback) {                                                      // 79\n    if (compileStandard !== null) {                                                                                  // 80\n      return compileStandard(input, readCallback);                                                                   // 81\n    }                                                                                                                // 82\n                                                                                                                     //\n    function formatFatalError(message) {                                                                             // 84\n      return JSON.stringify({                                                                                        // 85\n        errors: [{                                                                                                   // 86\n          'type': 'SOLCError',                                                                                       // 88\n          'component': 'solcjs',                                                                                     // 89\n          'severity': 'error',                                                                                       // 90\n          'message': message,                                                                                        // 91\n          'formattedMessage': 'Error' + message                                                                      // 92\n        }]                                                                                                           // 87\n      });                                                                                                            // 85\n    }                                                                                                                // 96\n                                                                                                                     //\n    input = JSON.parse(input);                                                                                       // 98\n                                                                                                                     //\n    if (input['language'] !== 'Solidity') {                                                                          // 100\n      return formatFatalError('Only Solidity sources are supported');                                                // 101\n    }                                                                                                                // 102\n                                                                                                                     //\n    if (input['sources'] == null) {                                                                                  // 104\n      return formatFatalError('No input specified');                                                                 // 105\n    } // Bail out early                                                                                              // 106\n                                                                                                                     //\n                                                                                                                     //\n    if (input['sources'].length > 1 && compileJSONMulti === null) {                                                  // 109\n      return formatFatalError('Multiple sources provided, but compiler only supports single input');                 // 110\n    }                                                                                                                // 111\n                                                                                                                     //\n    function isOptimizerEnabled(input) {                                                                             // 113\n      return input['settings'] && input['settings']['optimizer'] && input['settings']['optimizer']['enabled'];       // 114\n    }                                                                                                                // 115\n                                                                                                                     //\n    function translateSources(input) {                                                                               // 117\n      var sources = {};                                                                                              // 118\n                                                                                                                     //\n      for (var source in meteorBabelHelpers.sanitizeForInObject(input['sources'])) {                                 // 119\n        if (input['sources'][source]['content'] !== null) {                                                          // 120\n          sources[source] = input['sources'][source]['content'];                                                     // 121\n        } else {                                                                                                     // 122\n          // force failure                                                                                           // 123\n          return null;                                                                                               // 124\n        }                                                                                                            // 125\n      }                                                                                                              // 126\n                                                                                                                     //\n      return sources;                                                                                                // 127\n    }                                                                                                                // 128\n                                                                                                                     //\n    function translateOutput(output) {                                                                               // 130\n      output = translate.translateJsonCompilerOutput(JSON.parse(output));                                            // 131\n                                                                                                                     //\n      if (output == null) {                                                                                          // 132\n        return formatFatalError('Failed to process output');                                                         // 133\n      }                                                                                                              // 134\n                                                                                                                     //\n      return JSON.stringify(output);                                                                                 // 135\n    }                                                                                                                // 136\n                                                                                                                     //\n    var sources = translateSources(input);                                                                           // 138\n                                                                                                                     //\n    if (sources === null) {                                                                                          // 139\n      return formatFatalError('Failed to process sources');                                                          // 140\n    } // Try to wrap around old versions                                                                             // 141\n                                                                                                                     //\n                                                                                                                     //\n    if (compileJSONCallback !== null) {                                                                              // 144\n      return translateOutput(compileJSONCallback(JSON.stringify({                                                    // 145\n        'sources': sources                                                                                           // 145\n      }), isOptimizerEnabled(input), readCallback));                                                                 // 145\n    }                                                                                                                // 146\n                                                                                                                     //\n    if (compileJSONMulti !== null) {                                                                                 // 148\n      return translateOutput(compileJSONMulti(JSON.stringify({                                                       // 149\n        'sources': sources                                                                                           // 149\n      }), isOptimizerEnabled(input)));                                                                               // 149\n    } // Try our luck with an ancient compiler                                                                       // 150\n                                                                                                                     //\n                                                                                                                     //\n    return translateOutput(compileJSON(sources[0], isOptimizerEnabled(input)));                                      // 153\n  };                                                                                                                 // 154\n                                                                                                                     //\n  var linkBytecode = function (bytecode, libraries) {                                                                // 156\n    for (var libraryName in meteorBabelHelpers.sanitizeForInObject(libraries)) {                                     // 157\n      // truncate to 37 characters                                                                                   // 158\n      var internalName = libraryName.slice(0, 36); // prefix and suffix with __                                      // 159\n                                                                                                                     //\n      var libLabel = '__' + internalName + Array(37 - internalName.length).join('_') + '__';                         // 161\n      var hexAddress = libraries[libraryName];                                                                       // 163\n                                                                                                                     //\n      if (hexAddress.slice(0, 2) !== '0x' || hexAddress.length > 42) {                                               // 164\n        throw new Error('Invalid address specified for ' + libraryName);                                             // 165\n      } // remove 0x prefix                                                                                          // 166\n                                                                                                                     //\n                                                                                                                     //\n      hexAddress = hexAddress.slice(2);                                                                              // 168\n      hexAddress = Array(40 - hexAddress.length + 1).join('0') + hexAddress;                                         // 169\n                                                                                                                     //\n      while (bytecode.indexOf(libLabel) >= 0) {                                                                      // 171\n        bytecode = bytecode.replace(libLabel, hexAddress);                                                           // 172\n      }                                                                                                              // 173\n    }                                                                                                                // 174\n                                                                                                                     //\n    return bytecode;                                                                                                 // 176\n  };                                                                                                                 // 177\n                                                                                                                     //\n  var version = soljson.cwrap('version', 'string', []);                                                              // 179\n  return {                                                                                                           // 181\n    version: version,                                                                                                // 182\n    compile: compile,                                                                                                // 183\n    compileStandard: compileStandard,                                                                                // 184\n    compileStandardWrapper: compileStandardWrapper,                                                                  // 185\n    linkBytecode: linkBytecode,                                                                                      // 186\n    supportsMulti: compileJSONMulti !== null,                                                                        // 187\n    supportsImportCallback: compileJSONCallback !== null,                                                            // 188\n    supportsStandard: compileStandard !== null,                                                                      // 189\n    // Use the given version if available.                                                                           // 190\n    useVersion: function (versionString) {                                                                           // 191\n      return setupMethods(require('./bin/soljson-' + versionString + '.js'));                                        // 192\n    },                                                                                                               // 193\n    // Loads the compiler of the given version from the github repository                                            // 194\n    // instead of from the local filesystem.                                                                         // 195\n    loadRemoteVersion: function (versionString, cb) {                                                                // 196\n      var mem = new MemoryStream(null, {                                                                             // 197\n        readable: false                                                                                              // 197\n      });                                                                                                            // 197\n      var url = 'https://ethereum.github.io/solc-bin/bin/soljson-' + versionString + '.js';                          // 198\n      https.get(url, function (response) {                                                                           // 199\n        if (response.statusCode !== 200) {                                                                           // 200\n          cb('Error retrieving binary: ' + response.statusMessage);                                                  // 201\n        } else {                                                                                                     // 202\n          response.pipe(mem);                                                                                        // 203\n          response.on('end', function () {                                                                           // 204\n            cb(null, setupMethods(requireFromString(mem.toString(), 'soljson-' + versionString + '.js')));           // 205\n          });                                                                                                        // 206\n        }                                                                                                            // 207\n      }).on('error', function (error) {                                                                              // 208\n        cb(error);                                                                                                   // 209\n      });                                                                                                            // 210\n    },                                                                                                               // 211\n    // Use this if you want to add wrapper functions around the pure module.                                         // 212\n    setupMethods: setupMethods                                                                                       // 213\n  };                                                                                                                 // 181\n}                                                                                                                    // 215\n                                                                                                                     //\nmodule.exports = setupMethods;                                                                                       // 217\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"package.json\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                   //\n// smart_contracts/solc-js/package.json                                                                              //\n//                                                                                                                   //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                     //\nmodule.exports = {                                                                                                   // 1\n  \"name\": \"solc\",                                                                                                    // 2\n  \"version\": \"0.4.11\",                                                                                               // 3\n  \"description\": \"Solidity compiler\",                                                                                // 4\n  \"main\": \"index.js\",                                                                                                // 5\n  \"bin\": {                                                                                                           // 6\n    \"solcjs\": \"solcjs\"                                                                                               // 7\n  },                                                                                                                 // 8\n  \"scripts\": {                                                                                                       // 9\n    \"lint\": \"semistandard\",                                                                                          // 10\n    \"prepublish\": \"./downloadCurrentVersion.js && ./verifyVersion.js\",                                               // 11\n    \"test\": \"tape ./test/index.js\"                                                                                   // 12\n  },                                                                                                                 // 13\n  \"repository\": {                                                                                                    // 14\n    \"type\": \"git\",                                                                                                   // 15\n    \"url\": \"git+https://github.com/ethereum/solc-js.git\"                                                             // 16\n  },                                                                                                                 // 17\n  \"keywords\": [                                                                                                      // 18\n    \"ethereum\",                                                                                                      // 19\n    \"solidity\",                                                                                                      // 20\n    \"compiler\"                                                                                                       // 21\n  ],                                                                                                                 // 22\n  \"files\": [                                                                                                         // 23\n    \"abi.js\",                                                                                                        // 24\n    \"index.js\",                                                                                                      // 25\n    \"solcjs\",                                                                                                        // 26\n    \"soljson.js\",                                                                                                    // 27\n    \"translate.js\",                                                                                                  // 28\n    \"wrapper.js\"                                                                                                     // 29\n  ],                                                                                                                 // 30\n  \"author\": \"chriseth\",                                                                                              // 31\n  \"license\": \"MIT\",                                                                                                  // 32\n  \"bugs\": {                                                                                                          // 33\n    \"url\": \"https://github.com/ethereum/solc-js/issues\"                                                              // 34\n  },                                                                                                                 // 35\n  \"homepage\": \"https://github.com/ethereum/solc-js#readme\",                                                          // 36\n  \"dependencies\": {                                                                                                  // 37\n    \"fs-extra\": \"^0.30.0\",                                                                                           // 38\n    \"memorystream\": \"^0.3.1\",                                                                                        // 39\n    \"require-from-string\": \"^1.1.0\",                                                                                 // 40\n    \"semver\": \"^5.3.0\",                                                                                              // 41\n    \"yargs\": \"^4.7.1\"                                                                                                // 42\n  },                                                                                                                 // 43\n  \"devDependencies\": {                                                                                               // 44\n    \"semistandard\": \"^8.0.0\",                                                                                        // 45\n    \"tape\": \"^4.5.1\",                                                                                                // 46\n    \"tape-spawn\": \"^1.4.2\"                                                                                           // 47\n  },                                                                                                                 // 48\n  \"semistandard\": {                                                                                                  // 49\n    \"ignore\": [                                                                                                      // 50\n      \"soljson.js\"                                                                                                   // 51\n    ]                                                                                                                // 52\n  }                                                                                                                  // 53\n};                                                                                                                   // 54\n                                                                                                                     // 55\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\"\n  ]\n});\nrequire(\"./client/template/components/template.accountInfo.js\");\nrequire(\"./client/template/components/template.sendEther.js\");\nrequire(\"./client/template/views/template.dashboard.js\");\nrequire(\"./client/template/views/template.send.js\");\nrequire(\"./client/template.main.js\");\nrequire(\"./client/lib/modules/defaultSession.js\");\nrequire(\"./client/lib/init.js\");\nrequire(\"./client/lib/route.js\");\nrequire(\"./client/template/components/accountInfo.js\");\nrequire(\"./client/template/components/sendEther.js\");\nrequire(\"./smart_contracts/solc-js/test/abi.js\");\nrequire(\"./smart_contracts/solc-js/test/cli.js\");\nrequire(\"./smart_contracts/solc-js/test/determinism.js\");\nrequire(\"./smart_contracts/solc-js/test/index.js\");\nrequire(\"./smart_contracts/solc-js/test/package.js\");\nrequire(\"./smart_contracts/solc-js/abi.js\");\nrequire(\"./smart_contracts/solc-js/downloadCurrentVersion.js\");\nrequire(\"./smart_contracts/solc-js/index.js\");\nrequire(\"./smart_contracts/solc-js/translate.js\");\nrequire(\"./smart_contracts/solc-js/verifyVersion.js\");\nrequire(\"./smart_contracts/solc-js/wrapper.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/template/components/accountInfo.js","client/template/components/sendEther.js","client/lib/modules/defaultSession.js","client/lib/init.js","client/lib/route.js","client/main.js","smart_contracts/solc-js/test/abi.js","smart_contracts/solc-js/test/cli.js","smart_contracts/solc-js/test/determinism.js","smart_contracts/solc-js/test/index.js","smart_contracts/solc-js/test/package.js","smart_contracts/solc-js/abi.js","smart_contracts/solc-js/downloadCurrentVersion.js","smart_contracts/solc-js/index.js","smart_contracts/solc-js/translate.js","smart_contracts/solc-js/verifyVersion.js","smart_contracts/solc-js/wrapper.js"],"names":["Template","accountBalanceComponent","helpers","accounts","EthAccounts","find","accountBalanceItem","name","address","balance","balanceEth","web3","fromWei","parseFloat","toFixed","estimatedFeeInWei","gas","Session","get","gasPrice","BigNumber","mul","estimationCallback","e","res","template","console","log","set","getGasPriceCallback","toString","sendEtherComponent","events","preventDefault","fundInfo","fAddr","$","target","val","tAddr","amount","toWei","findOne","reactive","eth","estimateGas","from","to","value","bind","getGasPrice","modal","sendConfirmModalTemplate","sendAmountInEther","amountEth","fee","sendTransaction","error","txHash","alert","defaultSessionVars","initialFundInfo","ammount","setDefault","Web3","currentProvider","providers","HttpProvider","init","Router","configure","layoutTemplate","route","redirect","module","watch","require","v","ReactiveVar","walletLayout","activeIfCurrent","currentRoute","current","getName","tape","abi","t","test","st","deepEqual","update","end","inputs","payable","type","input","spawn","pkg","spt","stdout","match","RegExp","version","stderr","empty","succeeds","fs","solc","prevBytecode","files","i","file","readFileSync","output","compile","sources","bytecode","contracts","ok","length","equal","f","findImports","path","contents","supportsStandard","skip","bytecodeExists","fileName","contractName","JSON","parse","compileStandard","stringify","compileStandardWrapper","plan","loadRemoteVersion","err","solcSnapshot","notOk","linkBytecode","indexOf","throws","semver","compilerVersion","hasConstructor","hasFallback","item","lt","push","exports","https","MemoryStream","getVersionList","cb","mem","readable","response","statusCode","process","exit","pipe","on","downloadBinary","createWriteStream","close","list","wanted","releases","wrapper","translateErrors","ret","errors","extractType","exec","trim","component","severity","message","formattedMessage","translateGasEstimates","gasEstimates","gasEstimatesTranslated","func","translateJsonCompilerOutput","contract","tmp","undefined","contractInput","contractOutput","sourceMap","sourceId","source","id","legacyAST","packageVersion","solcVersion","eq","translate","requireFromString","setupMethods","soljson","compileJSON","cwrap","compileJSONMulti","compileJSONCallback","copyString","str","ptr","buffer","_malloc","writeStringToMemory","setValue","wrapCallback","callback","result","Pointer_stringify","runWithReadCallback","readCallback","args","Runtime","addFunction","apply","removeFunction","compileInternal","optimize","compileStandardInternal","optimise","formatFatalError","isOptimizerEnabled","translateSources","translateOutput","libraries","libraryName","internalName","slice","libLabel","Array","join","hexAddress","Error","replace","supportsMulti","supportsImportCallback","useVersion","versionString","url","statusMessage"],"mappings":"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","file":"/app.js","sourcesContent":["Template.accountBalanceComponent.helpers({\n  accounts: function(){\n    return EthAccounts.find({});\n  }\n});\n\nTemplate.accountBalanceItem.helpers({\n  name: function(){\n    return this.name;\n  },\n  address: function(){\n    return this.address;\n  },\n  balance: function(){\n    var balanceEth = web3.fromWei(this.balance, \"ether\");\n    return parseFloat(balanceEth).toFixed(3);\n  }\n});\n","var estimatedFeeInWei =  function(){\n  var gas = Session.get('sendEther.estimatedGas');\n  var gasPrice = new BigNumber(Session.get('sendEther.currentGasPrice'));\n  return gasPrice.mul(gas);\n}\n\nvar estimationCallback = function(e, res){\n    var template = this;\n    console.log('Estimated gas: ', res, e);\n    if(!e && res) {\n        Session.set('sendEther.estimatedGas', res);\n    }\n};\n\nvar getGasPriceCallback = function(e, res){\n    var template = this;\n    console.log('Current Gas Price in Wei: ', res.toString(10), e);\n    if(!e && res) {\n        Session.set('sendEther.currentGasPrice', res.toString(10));\n    }\n};\n\nTemplate.sendEtherComponent.events({\n  'submit form': function(e) {\n    var template = this;\n    e.preventDefault();\n    var fundInfo = {\n      fAddr: $(e.target).find('[name=f-addr]').val(),\n      tAddr: $(e.target).find('[name=t-addr]').val(),\n      amount: web3.toWei($(e.target).find('[name=amount]').val(),'ether')\n    };\n\n    if(EthAccounts.findOne({address: fundInfo.fAddr}, {reactive: false})) {\n      Session.set('sendEther.fundInfo', fundInfo);\n      web3.eth.estimateGas({from: fundInfo.fAddr, to: fundInfo.tAddr, value: fundInfo.amount}, estimationCallback.bind(template));\n      web3.eth.getGasPrice(getGasPriceCallback.bind(template));\n      $('#sendConfirmModal').modal('show');\n    }\n  }\n});\n\nTemplate.sendConfirmModalTemplate.helpers({\n  sendAmountInEther: function(){\n    var amountEth = web3.fromWei(Session.get(\"sendEther.fundInfo\").amount,'ether');\n    return parseFloat(amountEth).toFixed(3);\n  },\n  fAddr: function(){\n    return Session.get(\"sendEther.fundInfo\").fAddr;\n  },\n  tAddr: function(){\n    return Session.get(\"sendEther.fundInfo\").tAddr;\n  },\n  fee: function(){\n    return web3.fromWei(estimatedFeeInWei(),'ether').toString(10);\n  }\n});\n\nTemplate.sendConfirmModalTemplate.events({\n  'click #send': function(e) {\n    e.preventDefault();\n    var fundInfo = Session.get(\"sendEther.fundInfo\");\n    web3.eth.sendTransaction({\n      from: fundInfo.fAddr,\n      to: fundInfo.tAddr,\n      value: fundInfo.amount\n    }, function(error, txHash){\n      console.log(\"Transaction Hash:\", txHash, error);\n      if(!error) {\n        alert(\"Ether Transfer Succeeded\");\n      } else {\n        alert(\"Ether Transfer Failed\");\n      }\n    });\n    $('#sendConfirmModal').modal('hide');\n}});\n","defaultSessionVars = function() {\n        var initialFundInfo = {ammount:0,fAddr:0x0,tAddr:0x0};\n\n        Session.setDefault(\"sendEther.fundInfo\", initialFundInfo);\n        Session.setDefault(\"sendEther.estimatedGas\", 0);\n        Session.setDefault(\"sendEther.currentGasPrice\", 0);\n\n};\n","// Checks Web3 support\nif(typeof web3 !== 'undefined' && typeof Web3 !== 'undefined') {\n    // If there's a web3 library loaded, then make your own web3\n    web3 = new Web3(web3.currentProvider);\n} else if (typeof Web3 !== 'undefined') {\n    // If there isn't then set a provider\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));\n} else if(typeof web3 == 'undefined') {\n    // Alert the user he is not in a web3 compatible browser\n    return;\n}\n\n//initialize the account\nEthAccounts.init()\n//initialize the session with default value\ndefaultSessionVars();\n","Router.configure({\n\t// LayoutTemplate\n\tlayoutTemplate: 'walletLayout',\n});\n\nRouter.route('/', function(){\n\t//set redirect assosiated with '/'\n\tthis.redirect('/dashboard');\n});\n\n// Set mapping between URL and Route template.\nRouter.route('/dashboard', {name: 'dashboard'});\nRouter.route('/sendEther', {name: 'sendEther'});\n","import { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport './main.html';\n\nTemplate.walletLayout.helpers({\n\n  activeIfCurrent: function (template) {\n    var currentRoute = Router.current();\n    if(currentRoute && template === Router.current().route.getName()){\n      return 'active';\n    }else{\n      return '';\n    }\n  }\n});\n","const tape = require('tape');\nconst abi = require('../abi.js');\n\ntape('ABI translator', function (t) {\n  t.test('Empty ABI', function (st) {\n    st.deepEqual(abi.update('0.4.0', []), []);\n    st.end();\n  });\n  t.test('0.1.1 (no constructor)', function (st) {\n    st.deepEqual(abi.update('0.1.1', []), [ { inputs: [], payable: true, type: 'constructor' }, { payable: true, type: 'fallback' } ]);\n    st.end();\n  });\n  t.test('0.4.0 (has fallback)', function (st) {\n    var input = [ { inputs: [], type: 'constructor' } ];\n    st.deepEqual(abi.update('0.4.0', input), [ { inputs: [], payable: true, type: 'constructor' } ]);\n    st.end();\n  });\n  t.test('0.4.1 (constructor not payable)', function (st) {\n    var input = [ { inputs: [], payable: false, type: 'constructor' } ];\n    st.deepEqual(abi.update('0.4.1', input), [ { inputs: [], payable: true, type: 'constructor' } ]);\n    st.end();\n  });\n  t.test('0.4.5 (constructor payable)', function (st) {\n    var input = [ { inputs: [], payable: false, type: 'constructor' } ];\n    st.deepEqual(abi.update('0.4.5', input), [ { inputs: [], payable: false, type: 'constructor' } ]);\n    st.end();\n  });\n});\n","const tape = require('tape');\nconst spawn = require('tape-spawn');\nconst pkg = require('../package.json');\n\ntape('CLI', function (t) {\n  t.test('--version', function (st) {\n    var spt = spawn(st, './solcjs --version');\n    spt.stdout.match(RegExp(pkg.version + '(-[^a-zA-A0-9.+]+)?(\\\\+[^a-zA-Z0-9.-]+)?'));\n    spt.end();\n  });\n\n  t.test('no parameters', function (st) {\n    var spt = spawn(st, './solcjs');\n    spt.stderr.match(/^Must provide a file/);\n    spt.end();\n  });\n\n  t.test('no mode specified', function (st) {\n    var spt = spawn(st, './solcjs test/DAO/Token.sol');\n    spt.stdout.match(/^Invalid option selected/);\n    spt.end();\n  });\n\n  t.test('--bin', function (st) {\n    var spt = spawn(st, './solcjs --bin test/DAO/Token.sol');\n    spt.stderr.empty();\n    spt.succeeds();\n    spt.end();\n  });\n\n  t.test('invalid file specified', function (st) {\n    var spt = spawn(st, './solcjs --bin test/fileNotFound.sol');\n    spt.stdout.match(/^Error reading /);\n    spt.end();\n  });\n\n  t.test('--abi', function (st) {\n    var spt = spawn(st, './solcjs --abi test/DAO/Token.sol');\n    spt.stderr.empty();\n    spt.succeeds();\n    spt.end();\n  });\n\n  t.test('--bin --abi', function (st) {\n    var spt = spawn(st, './solcjs --bin --abi test/DAO/Token.sol');\n    spt.stderr.empty();\n    spt.succeeds();\n    spt.end();\n  });\n});\n","const tape = require('tape');\nconst fs = require('fs');\nconst solc = require('../index.js');\n\ntape('Deterministic Compilation', function (t) {\n  t.test('DAO', function (st) {\n    var input = {};\n    var prevBytecode = null;\n    var files = ['DAO.sol', 'Token.sol', 'TokenCreation.sol', 'ManagedAccount.sol'];\n    var i;\n    for (i in files) {\n      var file = files[i];\n      input[file] = fs.readFileSync('test/DAO/' + file, 'utf8');\n    }\n    for (i = 0; i < 10; i++) {\n      var output = solc.compile({sources: input}, 1);\n      var bytecode = output.contracts['DAO.sol:DAO'].bytecode;\n      st.ok(bytecode.length > 0);\n      if (prevBytecode !== null) {\n        st.equal(prevBytecode, bytecode);\n      }\n      prevBytecode = bytecode;\n      // reset compiler state\n      solc.compile({sources: {f: 'contract c {}'}}, 1);\n    }\n    st.end();\n  });\n});\n","require('./package.js');\nrequire('./cli.js');\nrequire('./determinism.js');\nrequire('./abi.js');\n","const tape = require('tape');\nconst solc = require('../index.js');\n\ntape('Compilation', function (t) {\n  t.test('single files can be compiled', function (st) {\n    var output = solc.compile('contract x { function g() {} }');\n    st.ok(':x' in output.contracts);\n    st.ok(output.contracts[':x'].bytecode.length > 0);\n    st.end();\n  });\n  t.test('multiple files can be compiled', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    st.ok('cont.sol:x' in output.contracts);\n    st.ok('lib.sol:L' in output.contracts);\n    st.ok(output.contracts['cont.sol:x'].bytecode.length > 0);\n    st.ok(output.contracts['lib.sol:L'].bytecode.length > 0);\n    st.end();\n  });\n  t.test('lazy-loading callback works', function (st) {\n    var input = {\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    function findImports (path) {\n      if (path === 'lib.sol') {\n        return { contents: 'library L { function f() returns (uint) { return 7; } }' };\n      } else {\n        return { error: 'File not found' };\n      }\n    }\n    var output = solc.compile({sources: input}, 0, findImports);\n    st.ok('cont.sol:x' in output.contracts);\n    st.ok('lib.sol:L' in output.contracts);\n    st.ok(output.contracts['cont.sol:x'].bytecode.length > 0);\n    st.ok(output.contracts['lib.sol:L'].bytecode.length > 0);\n    st.end();\n  });\n  t.test('compiling standard JSON', function (st) {\n    if (!solc.supportsStandard) {\n      st.skip('Not supported by solc');\n      st.end();\n      return;\n    }\n\n    var input = {\n      'language': 'Solidity',\n      'sources': {\n        'lib.sol': {\n          'content': 'library L { function f() returns (uint) { return 7; } }'\n        },\n        'cont.sol': {\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n        }\n      }\n    };\n\n    function bytecodeExists (output, fileName, contractName) {\n      try {\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var output = JSON.parse(solc.compileStandard(JSON.stringify(input)));\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));\n    st.end();\n  });\n  t.test('compiling standard JSON (with callback)', function (st) {\n    if (!solc.supportsStandard) {\n      st.skip('Not supported by solc');\n      st.end();\n      return;\n    }\n\n    var input = {\n      'language': 'Solidity',\n      'sources': {\n        'cont.sol': {\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n        }\n      }\n    };\n\n    function findImports (path) {\n      if (path === 'lib.sol') {\n        return { contents: 'library L { function f() returns (uint) { return 7; } }' };\n      } else {\n        return { error: 'File not found' };\n      }\n    }\n\n    function bytecodeExists (output, fileName, contractName) {\n      try {\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var output = JSON.parse(solc.compileStandard(JSON.stringify(input), findImports));\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));\n    st.end();\n  });\n  t.test('compiling standard JSON (using wrapper)', function (st) {\n    var input = {\n      'language': 'Solidity',\n      'sources': {\n        'lib.sol': {\n          'content': 'library L { function f() returns (uint) { return 7; } }'\n        },\n        'cont.sol': {\n          'content': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n        }\n      }\n    };\n\n    function bytecodeExists (output, fileName, contractName) {\n      try {\n        return output.contracts[fileName][contractName]['evm']['bytecode']['object'].length > 0;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    var output = JSON.parse(solc.compileStandardWrapper(JSON.stringify(input)));\n    st.ok(bytecodeExists(output, 'cont.sol', 'x'));\n    st.ok(bytecodeExists(output, 'lib.sol', 'L'));\n    st.end();\n  });\n});\ntape('Loading Legacy Versions', function (t) {\n  t.test('loading remote version - development snapshot', function (st) {\n    // getting the development snapshot\n    st.plan(3);\n    solc.loadRemoteVersion('latest', function (err, solcSnapshot) {\n      st.notOk(err);\n      var output = solcSnapshot.compile('contract x { function g() {} }');\n      st.ok(':x' in output.contracts);\n      st.ok(output.contracts[':x'].bytecode.length > 0);\n    });\n  });\n});\n\ntape('Linking', function (t) {\n  t.test('link properly', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { 'lib.sol:L': '0x123456' });\n    st.ok(bytecode.indexOf('_') < 0);\n    st.end();\n  });\n\n  t.test('linker to fail with missing library', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { });\n    st.ok(bytecode.indexOf('_') >= 0);\n    st.end();\n  });\n\n  t.test('linker to fail with invalid address', function (st) {\n    var input = {\n      'lib.sol': 'library L { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    st.throws(function () {\n      solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { 'lib.sol:L': '' });\n    });\n    st.end();\n  });\n\n  t.test('linker properly with truncated library name', function (st) {\n    var input = {\n      'lib.sol': 'library L1234567890123456789012345678901234567890 { function f() returns (uint) { return 7; } }',\n      'cont.sol': 'import \"lib.sol\"; contract x { function g() { L1234567890123456789012345678901234567890.f(); } }'\n    };\n    var output = solc.compile({sources: input});\n    var bytecode = solc.linkBytecode(output.contracts['cont.sol:x'].bytecode, { 'lib.sol:L1234567890123456789012345678901234567890': '0x123456' });\n    st.ok(bytecode.indexOf('_') < 0);\n    st.end();\n  });\n});\n","var semver = require('semver');\n\nfunction update (compilerVersion, abi) {\n  var hasConstructor = false;\n  var hasFallback = false;\n\n  for (var i = 0; i < abi.length; i++) {\n    var item = abi[i];\n\n    if (item.type === 'constructor') {\n      hasConstructor = true;\n\n      // <0.4.5 assumed every constructor to be payable\n      if (semver.lt(compilerVersion, '0.4.5')) {\n        item.payable = true;\n      }\n    } else if (item.type === 'fallback') {\n      hasFallback = true;\n    }\n\n    // add 'payable' to everything\n    if (semver.lt(compilerVersion, '0.4.0')) {\n      item.payable = true;\n    }\n  }\n\n  // 0.1.2 from Aug 2015 had it. The code has it since May 2015 (e7931ade)\n  if (!hasConstructor && semver.lt(compilerVersion, '0.1.2')) {\n    abi.push({\n      type: 'constructor',\n      payable: true,\n      inputs: []\n    });\n  }\n\n  if (!hasFallback && semver.lt(compilerVersion, '0.4.0')) {\n    abi.push({\n      type: 'fallback',\n      payable: true\n    });\n  }\n\n  return abi;\n}\n\nmodule.exports = {\n  update: update\n};\n","#!/usr/bin/env node\n\n// This is used to download the correct binary version\n// as part of the prepublish step.\n\nvar pkg = require('./package.json');\nvar fs = require('fs');\nvar https = require('https');\nvar MemoryStream = require('memorystream');\n\nfunction getVersionList (cb) {\n  console.log('Retrieving available version list...');\n\n  var mem = new MemoryStream(null, { readable: false });\n  https.get('https://ethereum.github.io/solc-bin/bin/list.json', function (response) {\n    if (response.statusCode !== 200) {\n      console.log('Error downloading file: ' + response.statusCode);\n      process.exit(1);\n    }\n    response.pipe(mem);\n    response.on('end', function () {\n      cb(mem.toString());\n    });\n  });\n}\n\nfunction downloadBinary (version) {\n  console.log('Downloading version', version);\n\n  var file = fs.createWriteStream('soljson.js');\n  https.get('https://ethereum.github.io/solc-bin/bin/' + version, function (response) {\n    if (response.statusCode !== 200) {\n      console.log('Error downloading file: ' + response.statusCode);\n      process.exit(1);\n    }\n    response.pipe(file);\n    file.on('finish', function () {\n      file.close(function () {\n        console.log('Done.');\n      });\n    });\n  });\n}\n\nconsole.log('Downloading correct solidity binary...');\n\ngetVersionList(function (list) {\n  list = JSON.parse(list);\n  var wanted = pkg.version.match(/^(\\d+\\.\\d+\\.\\d+)$/)[1];\n  downloadBinary(list.releases[wanted]);\n});\n","var wrapper = require('./wrapper.js');\n\nmodule.exports = wrapper(require('./soljson.js'));\n","function translateErrors (ret, errors) {\n  for (var error in errors) {\n    var type = 'error';\n    var extractType = /^(.*):(\\d+):(\\d+):(.*):/;\n    extractType = extractType.exec(errors[error]);\n    if (extractType) {\n      type = extractType[4].trim();\n    } else if (errors[error].indexOf(': Warning:')) {\n      type = 'Warning';\n    } else if (errors[error].indexOf(': Error:')) {\n      type = 'Error';\n    }\n    ret.push({\n      type: type,\n      component: 'general',\n      severity: (type === 'Warning') ? 'warning' : 'error',\n      message: errors[error],\n      formattedMessage: errors[error]\n    });\n  }\n}\n\nfunction translateGasEstimates (gasEstimates) {\n  if (gasEstimates === null) {\n    return 'infinite';\n  }\n\n  if (typeof gasEstimates === 'number') {\n    return gasEstimates.toString();\n  }\n\n  var gasEstimatesTranslated = {};\n  for (var func in gasEstimates) {\n    gasEstimatesTranslated[func] = translateGasEstimates(gasEstimates[func]);\n  }\n  return gasEstimatesTranslated;\n}\n\nfunction translateJsonCompilerOutput (output) {\n  var ret = {};\n\n  ret['errors'] = [];\n  translateErrors(ret['errors'], output['errors']);\n\n  ret['contracts'] = {};\n  for (var contract in output['contracts']) {\n    // Split name first, can be `contract`, `:contract` or `filename:contract`\n    var tmp = contract.match(/^(([^:]*):)?([^:]+)$/);\n    if (tmp.length !== 4) {\n      // Force abort\n      return null;\n    }\n    var fileName = tmp[2];\n    if (fileName === undefined) {\n      // this is the case of `contract`\n      fileName = '';\n    }\n    var contractName = tmp[3];\n\n    var contractInput = output['contracts'][contract];\n\n    var gasEstimates = contractInput['gasEstimates'];\n\n    var contractOutput = {\n      'abi': JSON.parse(contractInput['interface']),\n      'metadata': contractInput['metadata'],\n      'evm': {\n        'legacyAssembly': contractInput['assembly'],\n        'bytecode': {\n          'object': contractInput['bytecode'],\n          'opcodes': contractInput['opcodes'],\n          'sourceMap': contractInput['srcmap']\n        },\n        'deployedBytecode': {\n          'object': contractInput['runtimeBytecode'],\n          'sourceMap': contractInput['srcmapRuntime']\n        },\n        'methodIdentifiers': contractInput['functionHashes'],\n        'gasEstimates': {\n          'creation': {\n            'codeDepositCost': translateGasEstimates(gasEstimates['creation'][1]),\n            'executionCost': translateGasEstimates(gasEstimates['creation'][0])\n          },\n          'internal': translateGasEstimates(gasEstimates['internal']),\n          'external': translateGasEstimates(gasEstimates['external'])\n        }\n      }\n    };\n\n    if (!ret['contracts'][fileName]) {\n      ret['contracts'][fileName] = {};\n    }\n\n    ret['contracts'][fileName][contractName] = contractOutput;\n  }\n\n  var sourceMap = {};\n  for (var sourceId in output['sourceList']) {\n    sourceMap[output['sourceList'][sourceId]] = sourceId;\n  }\n\n  ret['sources'] = {};\n  for (var source in output['sources']) {\n    ret['sources'][source] = {\n      id: sourceMap[source],\n      legacyAST: output['sources'][source]\n    };\n  }\n\n  return ret;\n}\n\nmodule.exports = {\n  translateJsonCompilerOutput: translateJsonCompilerOutput\n};\n","#!/usr/bin/env node\n\nvar semver = require('semver');\n\nvar packageVersion = require('./package.json').version;\nvar solcVersion = require('./index.js').version();\n\nconsole.log('solcVersion: ' + solcVersion);\nconsole.log('packageVersion: ' + packageVersion);\n\nif (semver.eq(packageVersion, solcVersion)) {\n  console.log('Version matching');\n  process.exit(0);\n} else {\n  console.log('Version mismatch');\n  process.exit(1);\n}\n","var translate = require('./translate.js');\nvar requireFromString = require('require-from-string');\nvar https = require('https');\nvar MemoryStream = require('memorystream');\n\nfunction setupMethods (soljson) {\n  var compileJSON = soljson.cwrap('compileJSON', 'string', ['string', 'number']);\n  var compileJSONMulti = null;\n  if ('_compileJSONMulti' in soljson) {\n    compileJSONMulti = soljson.cwrap('compileJSONMulti', 'string', ['string', 'number']);\n  }\n  var compileJSONCallback = null;\n  var compileStandard = null;\n  if (('_compileJSONCallback' in soljson) || ('_compileStandard' in soljson)) {\n    var copyString = function (str, ptr) {\n      var buffer = soljson._malloc(str.length + 1);\n      soljson.writeStringToMemory(str, buffer);\n      soljson.setValue(ptr, buffer, '*');\n    };\n    var wrapCallback = function (callback) {\n      return function (path, contents, error) {\n        var result = callback(soljson.Pointer_stringify(path));\n        if (typeof result.contents === 'string') {\n          copyString(result.contents, contents);\n        }\n        if (typeof result.error === 'string') {\n          copyString(result.error, error);\n        }\n      };\n    };\n\n    // This calls compile() with args || cb\n    var runWithReadCallback = function (readCallback, compile, args) {\n      if (readCallback === undefined) {\n        readCallback = function (path) {\n          return {\n            error: 'File import callback not supported'\n          };\n        };\n      }\n      var cb = soljson.Runtime.addFunction(wrapCallback(readCallback));\n      var output;\n      try {\n        args.push(cb);\n        output = compile.apply(undefined, args);\n      } catch (e) {\n        soljson.Runtime.removeFunction(cb);\n        throw e;\n      }\n      soljson.Runtime.removeFunction(cb);\n      return output;\n    };\n\n    var compileInternal = soljson.cwrap('compileJSONCallback', 'string', ['string', 'number', 'number']);\n    compileJSONCallback = function (input, optimize, readCallback) {\n      return runWithReadCallback(readCallback, compileInternal, [ input, optimize ]);\n    };\n    if ('_compileStandard' in soljson) {\n      var compileStandardInternal = soljson.cwrap('compileStandard', 'string', ['string', 'number']);\n      compileStandard = function (input, readCallback) {\n        return runWithReadCallback(readCallback, compileStandardInternal, [ input ]);\n      };\n    }\n  }\n\n  var compile = function (input, optimise, readCallback) {\n    var result = '';\n    if (readCallback !== undefined && compileJSONCallback !== null) {\n      result = compileJSONCallback(JSON.stringify(input), optimise, readCallback);\n    } else if (typeof input !== 'string' && compileJSONMulti !== null) {\n      result = compileJSONMulti(JSON.stringify(input), optimise);\n    } else {\n      result = compileJSON(input, optimise);\n    }\n    return JSON.parse(result);\n  };\n\n  // Expects a Standard JSON I/O but supports old compilers\n  var compileStandardWrapper = function (input, readCallback) {\n    if (compileStandard !== null) {\n      return compileStandard(input, readCallback);\n    }\n\n    function formatFatalError (message) {\n      return JSON.stringify({\n        errors: [\n          {\n            'type': 'SOLCError',\n            'component': 'solcjs',\n            'severity': 'error',\n            'message': message,\n            'formattedMessage': 'Error' + message\n          }\n        ]\n      });\n    }\n\n    input = JSON.parse(input);\n\n    if (input['language'] !== 'Solidity') {\n      return formatFatalError('Only Solidity sources are supported');\n    }\n\n    if (input['sources'] == null) {\n      return formatFatalError('No input specified');\n    }\n\n    // Bail out early\n    if ((input['sources'].length > 1) && (compileJSONMulti === null)) {\n      return formatFatalError('Multiple sources provided, but compiler only supports single input');\n    }\n\n    function isOptimizerEnabled (input) {\n      return input['settings'] && input['settings']['optimizer'] && input['settings']['optimizer']['enabled'];\n    }\n\n    function translateSources (input) {\n      var sources = {};\n      for (var source in input['sources']) {\n        if (input['sources'][source]['content'] !== null) {\n          sources[source] = input['sources'][source]['content'];\n        } else {\n          // force failure\n          return null;\n        }\n      }\n      return sources;\n    }\n\n    function translateOutput (output) {\n      output = translate.translateJsonCompilerOutput(JSON.parse(output));\n      if (output == null) {\n        return formatFatalError('Failed to process output');\n      }\n      return JSON.stringify(output);\n    }\n\n    var sources = translateSources(input);\n    if (sources === null) {\n      return formatFatalError('Failed to process sources');\n    }\n\n    // Try to wrap around old versions\n    if (compileJSONCallback !== null) {\n      return translateOutput(compileJSONCallback(JSON.stringify({ 'sources': sources }), isOptimizerEnabled(input), readCallback));\n    }\n\n    if (compileJSONMulti !== null) {\n      return translateOutput(compileJSONMulti(JSON.stringify({ 'sources': sources }), isOptimizerEnabled(input)));\n    }\n\n    // Try our luck with an ancient compiler\n    return translateOutput(compileJSON(sources[0], isOptimizerEnabled(input)));\n  };\n\n  var linkBytecode = function (bytecode, libraries) {\n    for (var libraryName in libraries) {\n      // truncate to 37 characters\n      var internalName = libraryName.slice(0, 36);\n      // prefix and suffix with __\n      var libLabel = '__' + internalName + Array(37 - internalName.length).join('_') + '__';\n\n      var hexAddress = libraries[libraryName];\n      if (hexAddress.slice(0, 2) !== '0x' || hexAddress.length > 42) {\n        throw new Error('Invalid address specified for ' + libraryName);\n      }\n      // remove 0x prefix\n      hexAddress = hexAddress.slice(2);\n      hexAddress = Array(40 - hexAddress.length + 1).join('0') + hexAddress;\n\n      while (bytecode.indexOf(libLabel) >= 0) {\n        bytecode = bytecode.replace(libLabel, hexAddress);\n      }\n    }\n\n    return bytecode;\n  };\n\n  var version = soljson.cwrap('version', 'string', []);\n\n  return {\n    version: version,\n    compile: compile,\n    compileStandard: compileStandard,\n    compileStandardWrapper: compileStandardWrapper,\n    linkBytecode: linkBytecode,\n    supportsMulti: compileJSONMulti !== null,\n    supportsImportCallback: compileJSONCallback !== null,\n    supportsStandard: compileStandard !== null,\n    // Use the given version if available.\n    useVersion: function (versionString) {\n      return setupMethods(require('./bin/soljson-' + versionString + '.js'));\n    },\n    // Loads the compiler of the given version from the github repository\n    // instead of from the local filesystem.\n    loadRemoteVersion: function (versionString, cb) {\n      var mem = new MemoryStream(null, {readable: false});\n      var url = 'https://ethereum.github.io/solc-bin/bin/soljson-' + versionString + '.js';\n      https.get(url, function (response) {\n        if (response.statusCode !== 200) {\n          cb('Error retrieving binary: ' + response.statusMessage);\n        } else {\n          response.pipe(mem);\n          response.on('end', function () {\n            cb(null, setupMethods(requireFromString(mem.toString(), 'soljson-' + versionString + '.js')));\n          });\n        }\n      }).on('error', function (error) {\n        cb(error);\n      });\n    },\n    // Use this if you want to add wrapper functions around the pure module.\n    setupMethods: setupMethods\n  };\n}\n\nmodule.exports = setupMethods;\n"]}}]