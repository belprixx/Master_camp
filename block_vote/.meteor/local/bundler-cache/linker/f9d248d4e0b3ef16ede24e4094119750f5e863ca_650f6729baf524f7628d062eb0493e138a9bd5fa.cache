[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nSession = Package.session.Session;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nprocess = Package.modules.process;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nIron = Package['iron:core'].Iron;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template\":{\"components\":{\"template.accountInfo.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/template/components/template.accountInfo.js                                                               //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n                                                                                                                    // 1\nTemplate.__checkName(\"accountBalanceComponent\");                                                                    // 2\nTemplate[\"accountBalanceComponent\"] = new Template(\"Template.accountBalanceComponent\", (function() {                // 3\n  var view = this;                                                                                                  // 4\n  return HTML.DIV({                                                                                                 // 5\n    class: \"panel panel-primary\"                                                                                    // 6\n  }, HTML.Raw('\\n    <div class=\"panel-heading\">\\n      <h4>Account Balance</h4>\\n    </div>\\n    '), HTML.TABLE({  // 7\n    class: \"table\"                                                                                                  // 8\n  }, \"\\n      \", HTML.THEAD(\"\\n        \", HTML.TR(\"\\n          \", HTML.TH(\"Name\"), \"\\n          \", HTML.TH(\"Address\"), \"\\n          \", HTML.TH(\"Balance[in ether]\"), \"\\n        \"), \"\\n      \"), \"\\n      \", HTML.TBODY(\"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"accounts\"));                                                                 // 10\n  }, function() {                                                                                                   // 11\n    return [ \"\\n          \", Spacebars.include(view.lookupTemplate(\"accountBalanceItem\")), \"\\n        \" ];          // 12\n  }), \"\\n      \"), \"\\n    \"), \"\\n  \");                                                                              // 13\n}));                                                                                                                // 14\n                                                                                                                    // 15\nTemplate.__checkName(\"accountBalanceItem\");                                                                         // 16\nTemplate[\"accountBalanceItem\"] = new Template(\"Template.accountBalanceItem\", (function() {                          // 17\n  var view = this;                                                                                                  // 18\n  return HTML.TR(\"\\n    \", HTML.TD(Blaze.View(\"lookup:name\", function() {                                           // 19\n    return Spacebars.mustache(view.lookup(\"name\"));                                                                 // 20\n  })), \"\\n    \", HTML.TD(Blaze.View(\"lookup:address\", function() {                                                  // 21\n    return Spacebars.mustache(view.lookup(\"address\"));                                                              // 22\n  })), \"\\n    \", HTML.TD(Blaze.View(\"lookup:balance\", function() {                                                  // 23\n    return Spacebars.mustache(view.lookup(\"balance\"));                                                              // 24\n  })), \"\\n  \");                                                                                                     // 25\n}));                                                                                                                // 26\n                                                                                                                    // 27\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.sendEther.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/template/components/template.sendEther.js                                                                 //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n                                                                                                                    // 1\nTemplate.__checkName(\"sendEtherComponent\");                                                                         // 2\nTemplate[\"sendEtherComponent\"] = new Template(\"Template.sendEtherComponent\", (function() {                          // 3\n  var view = this;                                                                                                  // 4\n  return [ HTML.DIV({                                                                                               // 5\n    class: \"panel panel-primary\"                                                                                    // 6\n  }, \"\\n    \", HTML.Raw('<div class=\"panel-heading\">\\n      <h4>Send Ether</h4>\\n    </div>'), \"\\n    \", HTML.DIV({\n    class: \"panel-body\"                                                                                             // 8\n  }, \"\\n      \", HTML.FORM({                                                                                        // 9\n    class: \"form-horizontal\"                                                                                        // 10\n  }, \"\\n        \", Blaze._TemplateWith(function() {                                                                 // 11\n    return {                                                                                                        // 12\n      inputId: Spacebars.call(\"f-addr\"),                                                                            // 13\n      labelStr: Spacebars.call(\"From:\"),                                                                            // 14\n      placeholderStr: Spacebars.call(\"0x1234abcdef....\")                                                            // 15\n    };                                                                                                              // 16\n  }, function() {                                                                                                   // 17\n    return Spacebars.include(view.lookupTemplate(\"sendInputTemplate\"));                                             // 18\n  }), \"\\n        \", Blaze._TemplateWith(function() {                                                                // 19\n    return {                                                                                                        // 20\n      inputId: Spacebars.call(\"t-addr\"),                                                                            // 21\n      labelStr: Spacebars.call(\"To:\"),                                                                              // 22\n      placeholderStr: Spacebars.call(\"0x1234abcdef....\")                                                            // 23\n    };                                                                                                              // 24\n  }, function() {                                                                                                   // 25\n    return Spacebars.include(view.lookupTemplate(\"sendInputTemplate\"));                                             // 26\n  }), \"\\n        \", Blaze._TemplateWith(function() {                                                                // 27\n    return {                                                                                                        // 28\n      inputId: Spacebars.call(\"amount\"),                                                                            // 29\n      labelStr: Spacebars.call(\"Amount(ether):\"),                                                                   // 30\n      placeholderStr: Spacebars.call(\"0.0\")                                                                         // 31\n    };                                                                                                              // 32\n  }, function() {                                                                                                   // 33\n    return Spacebars.include(view.lookupTemplate(\"sendInputTemplate\"));                                             // 34\n  }), \"\\n        \", HTML.Raw('<input type=\"submit\" value=\"submit\" class=\"btn btn-primary col-md-offset-6\">'), \"\\n      \"), \"\\n    \"), \"\\n  \"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"sendConfirmModalTemplate\")) ];\n}));                                                                                                                // 36\n                                                                                                                    // 37\nTemplate.__checkName(\"sendInputTemplate\");                                                                          // 38\nTemplate[\"sendInputTemplate\"] = new Template(\"Template.sendInputTemplate\", (function() {                            // 39\n  var view = this;                                                                                                  // 40\n  return HTML.DIV({                                                                                                 // 41\n    class: \"form-group\"                                                                                             // 42\n  }, \"\\n    \", HTML.LABEL({                                                                                         // 43\n    class: \"control-label col-md-3\",                                                                                // 44\n    for: function() {                                                                                               // 45\n      return Spacebars.mustache(view.lookup(\"inputId\"));                                                            // 46\n    }                                                                                                               // 47\n  }, Blaze.View(\"lookup:labelStr\", function() {                                                                     // 48\n    return Spacebars.mustache(view.lookup(\"labelStr\"));                                                             // 49\n  })), \"\\n    \", HTML.DIV({                                                                                         // 50\n    class: \"controls col-md-6\"                                                                                      // 51\n  }, \"\\n      \", HTML.INPUT({                                                                                       // 52\n    name: function() {                                                                                              // 53\n      return Spacebars.mustache(view.lookup(\"inputId\"));                                                            // 54\n    },                                                                                                              // 55\n    id: function() {                                                                                                // 56\n      return Spacebars.mustache(view.lookup(\"iputId\"));                                                             // 57\n    },                                                                                                              // 58\n    type: \"text\",                                                                                                   // 59\n    value: \"\",                                                                                                      // 60\n    placeholder: function() {                                                                                       // 61\n      return Spacebars.mustache(view.lookup(\"placeholderStr\"));                                                     // 62\n    },                                                                                                              // 63\n    class: \"form-control\"                                                                                           // 64\n  }), \"\\n    \"), \"\\n  \");                                                                                           // 65\n}));                                                                                                                // 66\n                                                                                                                    // 67\nTemplate.__checkName(\"sendConfirmModalTemplate\");                                                                   // 68\nTemplate[\"sendConfirmModalTemplate\"] = new Template(\"Template.sendConfirmModalTemplate\", (function() {              // 69\n  var view = this;                                                                                                  // 70\n  return HTML.DIV({                                                                                                 // 71\n    class: \"modal fade\",                                                                                            // 72\n    id: \"sendConfirmModal\"                                                                                          // 73\n  }, \"\\n    \", HTML.DIV({                                                                                           // 74\n    class: \"modal-dialog\"                                                                                           // 75\n  }, \"\\n      \", HTML.DIV({                                                                                         // 76\n    class: \"modal-content\"                                                                                          // 77\n  }, \"\\n        \", HTML.Raw('<div class=\"modal-header alert-danger\">\\n          <h4 class=\"modal-title\">Confirmation</h4>\\n        </div>'), \"\\n        \", HTML.DIV({\n    class: \"modal-body\"                                                                                             // 79\n  }, \"\\n          \", HTML.H4(\"Send \", Blaze.View(\"lookup:sendAmountInEther\", function() {                           // 80\n    return Spacebars.mustache(view.lookup(\"sendAmountInEther\"));                                                    // 81\n  }), \" ETHER\"), \"\\n          \", HTML.UL(\"\\n            \", HTML.LI(HTML.Raw(\"<b>From:</b>\"), \" \", Blaze.View(\"lookup:fAddr\", function() {\n    return Spacebars.mustache(view.lookup(\"fAddr\"));                                                                // 83\n  })), \"\\n            \", HTML.LI(HTML.Raw(\"<b>To:</b>\"), \" \", Blaze.View(\"lookup:tAddr\", function() {               // 84\n    return Spacebars.mustache(view.lookup(\"tAddr\"));                                                                // 85\n  })), \"\\n            \", HTML.LI(HTML.Raw(\"<b>Estimated Fee:</b>\"), \" \", Blaze.View(\"lookup:fee\", function() {      // 86\n    return Spacebars.mustache(view.lookup(\"fee\"));                                                                  // 87\n  }), \" Ether.\"), \"\\n          \"), \"\\n          \", HTML.Raw(\"<br>\"), \"\\n          \", HTML.Raw(\"<h4>Do you really send the Ether?</h4>\"), \"\\n        \"), \"\\n        \", HTML.Raw('<div class=\"modal-footer\">\\n          <button type=\"button\" class=\"btn btn-default\" id=\"send\">Yes</button>\\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancel</button>\\n        </div>'), \"\\n      \"), \"\\n    \"), \"\\n  \");\n}));                                                                                                                // 89\n                                                                                                                    // 90\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"accountInfo.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/template/components/accountInfo.js                                                                        //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nTemplate.accountBalanceComponent.helpers({                                                                          // 1\n  accounts: function () {                                                                                           // 2\n    return EthAccounts.find({});                                                                                    // 3\n  }                                                                                                                 // 4\n});                                                                                                                 // 1\nTemplate.accountBalanceItem.helpers({                                                                               // 7\n  name: function () {                                                                                               // 8\n    return this.name;                                                                                               // 9\n  },                                                                                                                // 10\n  address: function () {                                                                                            // 11\n    return this.address;                                                                                            // 12\n  },                                                                                                                // 13\n  balance: function () {                                                                                            // 14\n    var balanceEth = web3.fromWei(this.balance, \"ether\");                                                           // 15\n    return parseFloat(balanceEth).toFixed(3);                                                                       // 16\n  }                                                                                                                 // 17\n});                                                                                                                 // 7\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"sendEther.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/template/components/sendEther.js                                                                          //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nvar estimatedFeeInWei = function () {                                                                               // 1\n  var gas = Session.get('sendEther.estimatedGas');                                                                  // 2\n  var gasPrice = new BigNumber(Session.get('sendEther.currentGasPrice'));                                           // 3\n  return gasPrice.mul(gas);                                                                                         // 4\n};                                                                                                                  // 5\n                                                                                                                    //\nvar estimationCallback = function (e, res) {                                                                        // 7\n  var template = this;                                                                                              // 8\n  console.log('Estimated gas: ', res, e);                                                                           // 9\n                                                                                                                    //\n  if (!e && res) {                                                                                                  // 10\n    Session.set('sendEther.estimatedGas', res);                                                                     // 11\n  }                                                                                                                 // 12\n};                                                                                                                  // 13\n                                                                                                                    //\nvar getGasPriceCallback = function (e, res) {                                                                       // 15\n  var template = this;                                                                                              // 16\n  console.log('Current Gas Price in Wei: ', res.toString(10), e);                                                   // 17\n                                                                                                                    //\n  if (!e && res) {                                                                                                  // 18\n    Session.set('sendEther.currentGasPrice', res.toString(10));                                                     // 19\n  }                                                                                                                 // 20\n};                                                                                                                  // 21\n                                                                                                                    //\nTemplate.sendEtherComponent.events({                                                                                // 23\n  'submit form': function (e) {                                                                                     // 24\n    var template = this;                                                                                            // 25\n    e.preventDefault();                                                                                             // 26\n    var fundInfo = {                                                                                                // 27\n      fAddr: $(e.target).find('[name=f-addr]').val(),                                                               // 28\n      tAddr: $(e.target).find('[name=t-addr]').val(),                                                               // 29\n      amount: web3.toWei($(e.target).find('[name=amount]').val(), 'ether')                                          // 30\n    };                                                                                                              // 27\n                                                                                                                    //\n    if (EthAccounts.findOne({                                                                                       // 33\n      address: fundInfo.fAddr                                                                                       // 33\n    }, {                                                                                                            // 33\n      reactive: false                                                                                               // 33\n    })) {                                                                                                           // 33\n      Session.set('sendEther.fundInfo', fundInfo);                                                                  // 34\n      web3.eth.estimateGas({                                                                                        // 35\n        from: fundInfo.fAddr,                                                                                       // 35\n        to: fundInfo.tAddr,                                                                                         // 35\n        value: fundInfo.amount                                                                                      // 35\n      }, estimationCallback.bind(template));                                                                        // 35\n      web3.eth.getGasPrice(getGasPriceCallback.bind(template));                                                     // 36\n      $('#sendConfirmModal').modal('show');                                                                         // 37\n    }                                                                                                               // 38\n  }                                                                                                                 // 39\n});                                                                                                                 // 23\nTemplate.sendConfirmModalTemplate.helpers({                                                                         // 42\n  sendAmountInEther: function () {                                                                                  // 43\n    var amountEth = web3.fromWei(Session.get(\"sendEther.fundInfo\").amount, 'ether');                                // 44\n    return parseFloat(amountEth).toFixed(3);                                                                        // 45\n  },                                                                                                                // 46\n  fAddr: function () {                                                                                              // 47\n    return Session.get(\"sendEther.fundInfo\").fAddr;                                                                 // 48\n  },                                                                                                                // 49\n  tAddr: function () {                                                                                              // 50\n    return Session.get(\"sendEther.fundInfo\").tAddr;                                                                 // 51\n  },                                                                                                                // 52\n  fee: function () {                                                                                                // 53\n    return web3.fromWei(estimatedFeeInWei(), 'ether').toString(10);                                                 // 54\n  }                                                                                                                 // 55\n});                                                                                                                 // 42\nTemplate.sendConfirmModalTemplate.events({                                                                          // 58\n  'click #send': function (e) {                                                                                     // 59\n    e.preventDefault();                                                                                             // 60\n    var fundInfo = Session.get(\"sendEther.fundInfo\");                                                               // 61\n    web3.eth.sendTransaction({                                                                                      // 62\n      from: fundInfo.fAddr,                                                                                         // 63\n      to: fundInfo.tAddr,                                                                                           // 64\n      value: fundInfo.amount                                                                                        // 65\n    }, function (error, txHash) {                                                                                   // 62\n      console.log(\"Transaction Hash:\", txHash, error);                                                              // 67\n                                                                                                                    //\n      if (!error) {                                                                                                 // 68\n        alert(\"Ether Transfer Succeeded\");                                                                          // 69\n      } else {                                                                                                      // 70\n        alert(\"Ether Transfer Failed\");                                                                             // 71\n      }                                                                                                             // 72\n    });                                                                                                             // 73\n    $('#sendConfirmModal').modal('hide');                                                                           // 74\n  }                                                                                                                 // 75\n});                                                                                                                 // 58\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"views\":{\"template.dashboard.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/template/views/template.dashboard.js                                                                      //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n                                                                                                                    // 1\nTemplate.__checkName(\"dashboard\");                                                                                  // 2\nTemplate[\"dashboard\"] = new Template(\"Template.dashboard\", (function() {                                            // 3\n  var view = this;                                                                                                  // 4\n  return HTML.DIV({                                                                                                 // 5\n    class: \"row-fluid\"                                                                                              // 6\n  }, \"\\n    \", HTML.DIV({                                                                                           // 7\n    class: \"col-md-8 col-md-offset-2\"                                                                               // 8\n  }, \"\\n\\n      \", Spacebars.include(view.lookupTemplate(\"accountBalanceComponent\")), \"\\n    \"), \"\\n  \");           // 9\n}));                                                                                                                // 10\n                                                                                                                    // 11\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.send.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/template/views/template.send.js                                                                           //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n                                                                                                                    // 1\nTemplate.__checkName(\"sendEther\");                                                                                  // 2\nTemplate[\"sendEther\"] = new Template(\"Template.sendEther\", (function() {                                            // 3\n  var view = this;                                                                                                  // 4\n  return HTML.DIV({                                                                                                 // 5\n    class: \"row-fluid\"                                                                                              // 6\n  }, \"\\n    \", HTML.DIV({                                                                                           // 7\n    class: \"col-md-8 col-md-offset-2\"                                                                               // 8\n  }, \"\\n      \", Spacebars.include(view.lookupTemplate(\"sendEtherComponent\")), \"\\n    \"), \"\\n  \");                  // 9\n}));                                                                                                                // 10\n                                                                                                                    // 11\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"main.html\":function(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/main.html                                                                                                 //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.exports = require(\"./template.main.js\");                                                                     // 1\n                                                                                                                    // 2\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.main.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/template.main.js                                                                                          //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n                                                                                                                    // 1\nTemplate.__checkName(\"walletLayout\");                                                                               // 2\nTemplate[\"walletLayout\"] = new Template(\"Template.walletLayout\", (function() {                                      // 3\n  var view = this;                                                                                                  // 4\n  return [ HTML.Raw('<header>\\n          <h2 align=\"center\" style=\"color:blue\">Mini-Dashboard</h2>\\n    </header>\\n'), HTML.NAV({\n    class: \"navbar navbar-default\"                                                                                  // 6\n  }, \"\\n  \", HTML.DIV({                                                                                             // 7\n    class: \"container-fluid\"                                                                                        // 8\n  }, \"\\n    \", HTML.Raw('<div class=\"navbar-header\">\\n      <!--<a class=\"navbar-brand\" href=\"{{pathFor \\'dashboard\\'}}\">Mini Ether Dashboard</a> -->\\n    </div>'), \"\\n    \", HTML.UL({\n    class: \"nav navbar-nav\"                                                                                         // 10\n  }, \"\\n      \", HTML.LI({                                                                                          // 11\n    class: function() {                                                                                             // 12\n      return Spacebars.mustache(view.lookup(\"activeIfCurrent\"), \"dashboard\");                                       // 13\n    }                                                                                                               // 14\n  }, HTML.A({                                                                                                       // 15\n    href: function() {                                                                                              // 16\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"dashboard\");                                               // 17\n    }                                                                                                               // 18\n  }, \"Dashboard\")), \"\\n      \", HTML.LI({                                                                           // 19\n    class: function() {                                                                                             // 20\n      return Spacebars.mustache(view.lookup(\"activeIfCurrent\"), \"sendEther\");                                       // 21\n    }                                                                                                               // 22\n  }, HTML.A({                                                                                                       // 23\n    href: function() {                                                                                              // 24\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"sendEther\");                                               // 25\n    }                                                                                                               // 26\n  }, \"Send Ether\")), \"\\n    \"), \"\\n  \"), \"\\n\"), \"\\n\", HTML.MAIN({                                                   // 27\n    class: \"container-fluid\"                                                                                        // 28\n  }, \"\\n  \", Spacebars.include(view.lookupTemplate(\"yield\")), \"\\n\"), HTML.Raw(\"\\n<hr>\\n<footer>MLGBlockchain @2017</footer>\") ];\n}));                                                                                                                // 30\n                                                                                                                    // 31\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"lib\":{\"modules\":{\"defaultSession.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/lib/modules/defaultSession.js                                                                             //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\ndefaultSessionVars = function () {                                                                                  // 1\n        var initialFundInfo = {                                                                                     // 2\n                ammount: 0,                                                                                         // 2\n                fAddr: 0x0,                                                                                         // 2\n                tAddr: 0x0                                                                                          // 2\n        };                                                                                                          // 2\n        Session.setDefault(\"sendEther.fundInfo\", initialFundInfo);                                                  // 4\n        Session.setDefault(\"sendEther.estimatedGas\", 0);                                                            // 5\n        Session.setDefault(\"sendEther.currentGasPrice\", 0);                                                         // 6\n};                                                                                                                  // 8\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"init.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/lib/init.js                                                                                               //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n// Checks Web3 support                                                                                              // 1\nif (typeof web3 !== 'undefined' && typeof Web3 !== 'undefined') {                                                   // 2\n    // If there's a web3 library loaded, then make your own web3                                                    // 3\n    web3 = new Web3(web3.currentProvider);                                                                          // 4\n} else if (typeof Web3 !== 'undefined') {                                                                           // 5\n    // If there isn't then set a provider                                                                           // 6\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));                                      // 7\n} else if (typeof web3 == 'undefined') {                                                                            // 8\n    // Alert the user he is not in a web3 compatible browser                                                        // 9\n    return;                                                                                                         // 10\n} //initialize the account                                                                                          // 11\n                                                                                                                    //\n                                                                                                                    //\nEthAccounts.init //initialize the session with default value                                                        // 14\n();                                                                                                                 // 14\ndefaultSessionVars();                                                                                               // 16\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"route.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/lib/route.js                                                                                              //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nRouter.configure({                                                                                                  // 1\n\t// LayoutTemplate                                                                                                  // 2\n\tlayoutTemplate: 'walletLayout'                                                                                     // 3\n});                                                                                                                 // 1\nRouter.route('/', function () {                                                                                     // 6\n\t//set redirect assosiated with '/'                                                                                 // 7\n\tthis.redirect('/dashboard');                                                                                       // 8\n}); // Set mapping between URL and Route template.                                                                  // 9\n                                                                                                                    //\nRouter.route('/dashboard', {                                                                                        // 12\n\tname: 'dashboard'                                                                                                  // 12\n});                                                                                                                 // 12\nRouter.route('/sendEther', {                                                                                        // 13\n\tname: 'sendEther'                                                                                                  // 13\n});                                                                                                                 // 13\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"main.js\":function(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/main.js                                                                                                   //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nvar Template = void 0;                                                                                              // 1\nmodule.watch(require(\"meteor/templating\"), {                                                                        // 1\n  Template: function (v) {                                                                                          // 1\n    Template = v;                                                                                                   // 1\n  }                                                                                                                 // 1\n}, 0);                                                                                                              // 1\nvar ReactiveVar = void 0;                                                                                           // 1\nmodule.watch(require(\"meteor/reactive-var\"), {                                                                      // 1\n  ReactiveVar: function (v) {                                                                                       // 1\n    ReactiveVar = v;                                                                                                // 1\n  }                                                                                                                 // 1\n}, 1);                                                                                                              // 1\nmodule.watch(require(\"./main.html\"));                                                                               // 1\nTemplate.walletLayout.helpers({                                                                                     // 6\n  activeIfCurrent: function (template) {                                                                            // 8\n    var currentRoute = Router.current();                                                                            // 9\n                                                                                                                    //\n    if (currentRoute && template === Router.current().route.getName()) {                                            // 10\n      return 'active';                                                                                              // 11\n    } else {                                                                                                        // 12\n      return '';                                                                                                    // 13\n    }                                                                                                               // 14\n  }                                                                                                                 // 15\n});                                                                                                                 // 6\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\"\n  ]\n});\nrequire(\"./client/template/components/template.accountInfo.js\");\nrequire(\"./client/template/components/template.sendEther.js\");\nrequire(\"./client/template/views/template.dashboard.js\");\nrequire(\"./client/template/views/template.send.js\");\nrequire(\"./client/template.main.js\");\nrequire(\"./client/lib/modules/defaultSession.js\");\nrequire(\"./client/lib/init.js\");\nrequire(\"./client/lib/route.js\");\nrequire(\"./client/template/components/accountInfo.js\");\nrequire(\"./client/template/components/sendEther.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/template/components/accountInfo.js","client/template/components/sendEther.js","client/lib/modules/defaultSession.js","client/lib/init.js","client/lib/route.js","client/main.js"],"names":["Template","accountBalanceComponent","helpers","accounts","EthAccounts","find","accountBalanceItem","name","address","balance","balanceEth","web3","fromWei","parseFloat","toFixed","estimatedFeeInWei","gas","Session","get","gasPrice","BigNumber","mul","estimationCallback","e","res","template","console","log","set","getGasPriceCallback","toString","sendEtherComponent","events","preventDefault","fundInfo","fAddr","$","target","val","tAddr","amount","toWei","findOne","reactive","eth","estimateGas","from","to","value","bind","getGasPrice","modal","sendConfirmModalTemplate","sendAmountInEther","amountEth","fee","sendTransaction","error","txHash","alert","defaultSessionVars","initialFundInfo","ammount","setDefault","Web3","currentProvider","providers","HttpProvider","init","Router","configure","layoutTemplate","route","redirect","module","watch","require","v","ReactiveVar","walletLayout","activeIfCurrent","currentRoute","current","getName"],"mappings":"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","file":"/app.js","sourcesContent":["Template.accountBalanceComponent.helpers({\n  accounts: function(){\n    return EthAccounts.find({});\n  }\n});\n\nTemplate.accountBalanceItem.helpers({\n  name: function(){\n    return this.name;\n  },\n  address: function(){\n    return this.address;\n  },\n  balance: function(){\n    var balanceEth = web3.fromWei(this.balance, \"ether\");\n    return parseFloat(balanceEth).toFixed(3);\n  }\n});\n","var estimatedFeeInWei =  function(){\n  var gas = Session.get('sendEther.estimatedGas');\n  var gasPrice = new BigNumber(Session.get('sendEther.currentGasPrice'));\n  return gasPrice.mul(gas);\n}\n\nvar estimationCallback = function(e, res){\n    var template = this;\n    console.log('Estimated gas: ', res, e);\n    if(!e && res) {\n        Session.set('sendEther.estimatedGas', res);\n    }\n};\n\nvar getGasPriceCallback = function(e, res){\n    var template = this;\n    console.log('Current Gas Price in Wei: ', res.toString(10), e);\n    if(!e && res) {\n        Session.set('sendEther.currentGasPrice', res.toString(10));\n    }\n};\n\nTemplate.sendEtherComponent.events({\n  'submit form': function(e) {\n    var template = this;\n    e.preventDefault();\n    var fundInfo = {\n      fAddr: $(e.target).find('[name=f-addr]').val(),\n      tAddr: $(e.target).find('[name=t-addr]').val(),\n      amount: web3.toWei($(e.target).find('[name=amount]').val(),'ether')\n    };\n\n    if(EthAccounts.findOne({address: fundInfo.fAddr}, {reactive: false})) {\n      Session.set('sendEther.fundInfo', fundInfo);\n      web3.eth.estimateGas({from: fundInfo.fAddr, to: fundInfo.tAddr, value: fundInfo.amount}, estimationCallback.bind(template));\n      web3.eth.getGasPrice(getGasPriceCallback.bind(template));\n      $('#sendConfirmModal').modal('show');\n    }\n  }\n});\n\nTemplate.sendConfirmModalTemplate.helpers({\n  sendAmountInEther: function(){\n    var amountEth = web3.fromWei(Session.get(\"sendEther.fundInfo\").amount,'ether');\n    return parseFloat(amountEth).toFixed(3);\n  },\n  fAddr: function(){\n    return Session.get(\"sendEther.fundInfo\").fAddr;\n  },\n  tAddr: function(){\n    return Session.get(\"sendEther.fundInfo\").tAddr;\n  },\n  fee: function(){\n    return web3.fromWei(estimatedFeeInWei(),'ether').toString(10);\n  }\n});\n\nTemplate.sendConfirmModalTemplate.events({\n  'click #send': function(e) {\n    e.preventDefault();\n    var fundInfo = Session.get(\"sendEther.fundInfo\");\n    web3.eth.sendTransaction({\n      from: fundInfo.fAddr,\n      to: fundInfo.tAddr,\n      value: fundInfo.amount\n    }, function(error, txHash){\n      console.log(\"Transaction Hash:\", txHash, error);\n      if(!error) {\n        alert(\"Ether Transfer Succeeded\");\n      } else {\n        alert(\"Ether Transfer Failed\");\n      }\n    });\n    $('#sendConfirmModal').modal('hide');\n}});\n","defaultSessionVars = function() {\n        var initialFundInfo = {ammount:0,fAddr:0x0,tAddr:0x0};\n\n        Session.setDefault(\"sendEther.fundInfo\", initialFundInfo);\n        Session.setDefault(\"sendEther.estimatedGas\", 0);\n        Session.setDefault(\"sendEther.currentGasPrice\", 0);\n\n};\n","// Checks Web3 support\nif(typeof web3 !== 'undefined' && typeof Web3 !== 'undefined') {\n    // If there's a web3 library loaded, then make your own web3\n    web3 = new Web3(web3.currentProvider);\n} else if (typeof Web3 !== 'undefined') {\n    // If there isn't then set a provider\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));\n} else if(typeof web3 == 'undefined') {\n    // Alert the user he is not in a web3 compatible browser\n    return;\n}\n\n//initialize the account\nEthAccounts.init()\n//initialize the session with default value\ndefaultSessionVars();\n","Router.configure({\n\t// LayoutTemplate\n\tlayoutTemplate: 'walletLayout',\n});\n\nRouter.route('/', function(){\n\t//set redirect assosiated with '/'\n\tthis.redirect('/dashboard');\n});\n\n// Set mapping between URL and Route template.\nRouter.route('/dashboard', {name: 'dashboard'});\nRouter.route('/sendEther', {name: 'sendEther'});\n","import { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nimport './main.html';\n\nTemplate.walletLayout.helpers({\n\n  activeIfCurrent: function (template) {\n    var currentRoute = Router.current();\n    if(currentRoute && template === Router.current().route.getName()){\n      return 'active';\n    }else{\n      return '';\n    }\n  }\n});\n"]}}]